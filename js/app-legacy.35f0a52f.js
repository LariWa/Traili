(function(){"use strict";var t={1993:function(t,e,r){r(6992),r(8674),r(9601),r(7727);var a=r(144),n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",{staticClass:"app"},[r("v-main",[r("NavBar"),r("v-container",{attrs:{fluid:""}},[r("keep-alive",[r("router-view")],1)],1),r("snackbar-presenter")],1),r("Footer")],1)},i=[],o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("NavbarView",{attrs:{loggedIn:t.getLoggedIn},on:{toFav:t.goToFavACB,toSearch:t.route2SearchACB,toExplore:t.route2ExploreACB}}),r("v-spacer")],1)},s=[],l=r(4367),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-app-bar",{staticClass:"nav-bar",attrs:{app:"",color:"primary",dark:""}},[a("v-toolbar-title",{staticClass:"nav-bar-title",on:{click:t.goToExplore}},[a("img",{attrs:{src:r(9574)}}),t._v("Traili")]),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:t.goToSearch}},[a("v-icon",[t._v("mdi-magnify")])],1),a("v-btn",{attrs:{icon:""},on:{click:t.goToFavourites}},[a("v-icon",[t._v("mdi-heart")])],1),t.loggedIn?t._e():a("login-presenter"),t.loggedIn?a("logout-presenter"):t._e()],1)],1)},u=[],d=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("login-view",{attrs:{showLogInPopUp:t.showLogInPopUp,email:t.emailText,emailRules:t.emailRules,password:t.password,passwordRules:t.passwordRules,errorAlert:t.errorText},on:{emailTextChanged:t.emailChangedACB,pswTextChanged:t.pswChangedACB,onCreate:t.createACB,onLogin:t.loginACB,setShowLogIn:t.setShowLogInPopUp}})],1)},h=[],g=(r(4916),r(7601),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"text-center"},[r("v-dialog",{attrs:{value:t.showLogInPopUp,width:"500"},on:{input:t.updateShowLogIn},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.attrs;return[r("v-btn",t._b({attrs:{icon:""},on:{click:function(e){return t.updateShowLogIn(!0)}}},"v-btn",a,!1),[r("v-icon",[t._v("mdi-account-circle ")])],1)]}}])},[r("v-card",[r("v-card-title",{staticClass:"text-h5 grey lighten-2"},[t._v(" Login/SignUp "),r("v-spacer"),r("v-btn",{attrs:{icon:""},on:{click:function(e){return t.updateShowLogIn(!1)}}},[r("v-icon",[t._v("mdi-close")])],1)],1),r("v-card-text",[r("v-form",[r("v-text-field",{attrs:{type:"text ",label:"Email",value:t.email,rules:t.emailRules,required:""},on:{change:t.onEmailChangeACB}}),r("v-text-field",{attrs:{type:"password",label:"Password",value:t.password,counter:6,rules:t.passwordRules,required:""},on:{change:t.onPswChangeACB}})],1)],1),t.errorAlert?r("div",[r("v-alert",{attrs:{type:"error"}},[t._v(" "+t._s(t.errorAlert)+" ")])],1):t._e(),r("v-divider"),r("v-card-actions",[r("v-btn",{on:{click:t.onLoginACB}},[t._v("Login")]),r("v-btn",{on:{click:t.onCreateACB}},[t._v("Create")])],1)],1)],1)],1)}),v=[],m={props:{showLogInPopUp:Boolean,email:String,emailRules:Array,password:String,passwordRules:Array,errorAlert:String},emits:["emailTextChanged","pswTextChanged","onCreate","onLogin","onQuit","setShowLogIn"],methods:{updateShowLogIn:function(t){this.$emit("setShowLogIn",t)},onEmailChangeACB:function(t){this.$emit("emailTextChanged",t)},onPswChangeACB:function(t){this.$emit("pswTextChanged",t)},onCreateACB:function(){this.$emit("onCreate")},onLoginACB:function(){this.$emit("onLogin")},onQuitACB:function(){this.$emit("onQuit")}}},f=m,p=r(1001),C=r(3453),S=r.n(C),_=r(1234),x=r(3150),w=r(3237),y=r(7118),b=r(4497),T=r(1418),I=r(6232),A=r(6428),B=r(9762),k=r(314),V=(0,p.Z)(f,g,v,!1,null,null,null),Z=V.exports;S()(V,{VAlert:_.Z,VBtn:x.Z,VCard:w.Z,VCardActions:y.h7,VCardText:y.ZB,VCardTitle:y.EB,VDialog:b.Z,VDivider:T.Z,VForm:I.Z,VIcon:A.Z,VSpacer:B.Z,VTextField:k.Z});r(1703);var F=r(7663),E={apiKey:"AIzaSyDM-Dm4bmoCx9BZVLmwIM91wBElXsMiq8o",authDomain:"traili.firebaseapp.com",databaseURL:"https://traili-default-rtdb.europe-west1.firebasedatabase.app",projectId:"traili",storageBucket:"traili.appspot.com",messagingSenderId:"12255820074",appId:"1:12255820074:web:094b14a8e530eb3a600653",measurementId:"G-87SPEL9JE3"},P=r(5503),$=r(949);function L(t){var e=t.getters.getUID;if(e&&""!=e){var r=(0,F.N8)();(0,F.t8)((0,F.iH)(r,e+"/favourites"),t.getters.getFavourites)}else console.log("cannot update model, please sign in!")}function D(t){var e=t.getters.getUID;if(e&&""!=e){var r=(0,F.N8)();(0,F.jM)((0,F.iH)(r,e+"/favourites"),(function(a){var n=a.val();null===n?(0,F.t8)((0,F.iH)(r,e+"/favourites"),[]):n!==t.getters.getFavourites&&t.dispatch("setFav",n)}))}}function U(t,e){var r=(0,$.v0)();return(0,$.Xb)(r,t,e).then((function(){O(t,e)})).catch((function(t){throw new Error("create error: "+t.code+t.message)}))}function O(t,e){var r=(0,$.v0)();return(0,$.e5)(r,t,e).then((function(){})).catch((function(t){throw new Error("login error: "+t.code+t.message)}))}function R(){var t=(0,$.v0)();(0,$.w7)(t).then((function(){})).catch((function(t){console.error("log out error: "+t.message)}))}(0,P.ZF)(E);var j=r(629),N={components:{loginView:Z},data:function(){return{emailText:"",emailRules:[function(t){return!!t||"E-mail is required"},function(t){return/.+@.+\..+/.test(t)||"E-mail must be valid"}],password:"",passwordRules:[function(t){return!!t||"Password is required"},function(t){return t&&t.length>=6||"Password must be more than 6 characters"}],errorText:""}},computed:{showLogInPopUp:function(){return this.$store.getters.getShowLogInPopUp}},methods:(0,l.Z)((0,l.Z)({},(0,j.nv)(["initData","clearData","setShowLogInPopUp"])),{},{emailChangedACB:function(t){this.emailText=t},pswChangedACB:function(t){this.password=t},createACB:function(){var t=this;U(this.emailText,this.password).catch((function(e){return t.setDisplayError(e.message)}))},loginACB:function(){var t=this;O(this.emailText,this.password).catch((function(e){return t.setDisplayError(e.message)}))},setDisplayError:function(t){this.errorText=t}})},M=N,H=(0,p.Z)(M,d,h,!1,null,null,null),W=H.exports,G=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("logOutView",{attrs:{showUserInfo:t.showUserInfo,name:t.name,email:t.email,avatarInitials:t.avatarInitials},on:{setShowUserInfo:t.setShowUserInfo,onLogOut:t.logOutACB}})},q=[],z=(r(9600),r(4723),r(8309),r(4626)),K=r.n(z),Q=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-btn",{attrs:{icon:""},on:{click:function(e){return t.setShowUserInfoACB(!0)}}},[r("v-icon",[t._v("mdi-account-circle ")])],1),r("v-navigation-drawer",{staticStyle:{height:"auto",top:"64px"},attrs:{absolute:"",temporary:"",value:t.showUserInfo,right:""},on:{input:t.setShowUserInfoACB},scopedSlots:t._u([{key:"prepend",fn:function(){return[r("v-list-item",{attrs:{"two-line":""}},[r("v-list-item-avatar",{attrs:{color:"#033"}},[r("span",{staticClass:"white--text text-h5"},[t._v(t._s(t.avatarInitials))])]),r("v-list-item-content",[r("v-list-item-title",[t._v(t._s(t.name))]),r("v-list-item-subtitle",[t._v(t._s(t.email))])],1)],1)]},proxy:!0}])},[r("v-divider"),r("div",{staticClass:"text-center"},[r("v-btn",{on:{click:t.onLogOutACB}},[t._v("Sign out")])],1)],1)],1)},X=[],Y={props:{showUserInfo:Boolean,name:String,email:String,avatarInitials:String},emits:["showLoggedInView","onLogOut"],methods:{setShowUserInfoACB:function(t){this.$emit("setShowUserInfo",t)},onLogOutACB:function(){this.$emit("onLogOut")}}},J=Y,tt=r(7620),et=r(5457),rt=r(6451),at=r(6724),nt=(0,p.Z)(J,Q,X,!1,null,null,null),it=nt.exports;S()(nt,{VBtn:x.Z,VDivider:T.Z,VIcon:A.Z,VListItem:tt.Z,VListItemAvatar:et.Z,VListItemContent:rt.km,VListItemSubtitle:rt.oZ,VListItemTitle:rt.V9,VNavigationDrawer:at.Z});var ot={components:{logOutView:it},data:function(){return{showUserInfo:!1}},computed:{email:function(){return this.$store.getters.getEmail},name:function(){return K().process(this.email)},avatarInitials:function(){return this.name.match(/(\b\S)?/g).join("").toUpperCase()}},methods:(0,l.Z)((0,l.Z)({},(0,j.nv)(["clearData"])),{},{logOutACB:function(){R()},setShowUserInfo:function(t){this.showUserInfo=t}})},st=ot,lt=(0,p.Z)(st,G,q,!1,null,null,null),ct=lt.exports,ut={components:{loginPresenter:W,logoutPresenter:ct},name:"NavbarView",emits:["toSearch","toFav","toExplore"],props:{loggedIn:Boolean},methods:{goToFavourites:function(){this.$emit("toFav")},goToSearch:function(){this.$emit("toSearch")},goToExplore:function(){this.$emit("toExplore")}}},dt=ut,ht=r(8320),gt=r(7921),vt=(0,p.Z)(dt,c,u,!1,null,null,null),mt=vt.exports;S()(vt,{VAppBar:ht.Z,VBtn:x.Z,VIcon:A.Z,VSpacer:B.Z,VToolbarTitle:gt.qW});var ft={components:{NavbarView:mt},computed:(0,l.Z)({},(0,j.Se)(["getLoggedIn","getShowLogInPopUp"])),methods:(0,l.Z)((0,l.Z)({},(0,j.nv)(["setShowLogInPopUp","setSnackbar"])),{},{goToFavACB:function(){this.getLoggedIn?this.$router.push("/Favourites").catch((function(){})):(this.setSnackbar("Please log in to see your favourite trails!"),this.setShowLogInPopUp(!0))},route2SearchACB:function(){this.$router.push("/Search").catch((function(){}))},route2ExploreACB:function(){this.$router.push("/Explore").catch((function(){}))}})},pt=ft,Ct=(0,p.Z)(pt,o,s,!1,null,null,null),St=Ct.exports;S()(Ct,{VSpacer:B.Z});var _t=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},xt=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"spacing"}),r("footer")])}],wt={name:"FooterImage"},yt=wt,bt=(0,p.Z)(yt,_t,xt,!1,null,null,null),Tt=bt.exports,It=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("SnackBar",{attrs:{showSnackbar:t.getSnackbarValue,text:t.getSnackbarText},on:{setSnackbarValue:t.setSnackbarValue}})},At=[],Bt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-snackbar",{attrs:{value:t.showSnackbar},on:{input:t.updateValue},scopedSlots:t._u([{key:"action",fn:function(e){var a=e.attrs;return[r("v-btn",t._b({attrs:{color:"red",text:""},on:{click:function(e){return t.updateValue(!1)}}},"v-btn",a,!1),[t._v(" Close ")])]}}])},[t._v(" "+t._s(t.text)+" ")])},kt=[],Vt={name:"SnackBar",props:{showSnackbar:Boolean,text:String},emits:["setSnackbarValue"],methods:{updateValue:function(t){this.$emit("setSnackbarValue",t)}}},Zt=Vt,Ft=r(3202),Et=(0,p.Z)(Zt,Bt,kt,!1,null,null,null),Pt=Et.exports;S()(Et,{VBtn:x.Z,VSnackbar:Ft.Z});var $t={components:{SnackBar:Pt},computed:(0,l.Z)({},(0,j.Se)(["getSnackbarValue","getSnackbarText"])),methods:(0,l.Z)({},(0,j.nv)(["setSnackbarValue"]))},Lt=$t,Dt=(0,p.Z)(Lt,It,At,!1,null,null,null),Ut=Dt.exports,Ot={name:"App",components:{NavBar:St,Footer:Tt,SnackbarPresenter:Ut}},Rt=Ot,jt=r(7524),Nt=r(9846),Mt=r(7877),Ht=(0,p.Z)(Rt,n,i,!1,null,null,null),Wt=Ht.exports;S()(Ht,{VApp:jt.Z,VContainer:Nt.Z,VMain:Mt.Z});r(561),r(6699),r(2023);a["default"].use(j.ZP);var Gt=new j.ZP.Store({state:{favourites:[],currentTour:{},loggedIn:!1,UID:"",userEmail:"",snackbarValue:!1,snackbarText:"",showLogInPopUp:!1},getters:{getCurrentTour:function(t){return t.currentTour},getWeather:function(t){return t.weather},getUID:function(t){return t.UID},getCurrentTourID:function(t){return t.currentTourID},getFavourites:function(t){return t.favourites},getLoggedIn:function(t){return t.loggedIn},getEmail:function(t){return t.userEmail},getSnackbarValue:function(t){return t.snackbarValue},getSnackbarText:function(t){return t.snackbarText},getShowLogInPopUp:function(t){return t.showLogInPopUp}},mutations:{addToFav:function(t,e){t.favourites.push(e)},removeFromFav:function(t,e){t.favourites.splice(t.favourites.indexOf(e),1)},setCurrentTour:function(t,e){t.currentTour=e},setLoggedIn:function(t,e){t.loggedIn=e},setUID:function(t,e){t.UID=e},setFav:function(t,e){t.favourites=e},setUserEmail:function(t,e){t.userEmail=e},setSnackbarValue:function(t,e){t.snackbarValue=e},setSnackbarText:function(t,e){t.snackbarText=e},setShowLogInPopUp:function(t,e){t.showLogInPopUp=e}},actions:{setCurrentTour:function(t,e){var r=t.commit;r("setCurrentTour",e)},setFav:function(t,e){var r=t.commit;r("setFav",e)},setUID:function(t,e){var r=t.commit;r("setUID",e)},setLoggedIn:function(t,e){var r=t.commit;r("setLoggedIn",e)},clearData:function(t){var e=t.commit;e("setUID",""),e("setFav",[]),e("setLoggedIn",!1),e("setSnackbarValue",!0),e("setSnackbarText","You are logged out!")},initData:function(t,e){var r=t.commit;r("setUID",e.uid),r("setLoggedIn",!0),r("setUserEmail",e.email),r("setSnackbarValue",!0),r("setSnackbarText","You are logged in!"),r("setShowLogInPopUp",!1)},addToFav:function(t,e){t.getters.getFavourites.includes(parseInt(e))||t.commit("addToFav",parseInt(e))},removeFromFav:function(t,e){t.getters.getFavourites.includes(parseInt(e))&&t.commit("removeFromFav",parseInt(e))},setUserEmail:function(t,e){var r=t.commit;r("setUserEmail",e)},setSnackbar:function(t,e){var r=t.commit;r("setSnackbarValue",!0),r("setSnackbarText",e)},setSnackbarValue:function(t,e){var r=t.commit;r("setSnackbarValue",e)},setShowLogInPopUp:function(t,e){var r=t.commit;r("setShowLogInPopUp",e)}},modules:{}}),qt=r(8209),zt=r.n(qt);r(243);a["default"].use(zt());var Kt={},Qt=new(zt())(Kt),Xt=r(8345),Yt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("Header"),r("promiseNoData",{attrs:{promiseState:t.promiseState,noDataString:"There are no recommended tours!"}},[r("trails-overview-presenter",{attrs:{headline:"Highlights",teaser:"Explore the trending trips which our team has carefully selected for you. Start planing and choose the trail that suits you best.",details:t.promiseState.data,pagination:!1,sort:!1}})],1)],1)},Jt=[],te=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},ee=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("header",[r("div",{staticClass:"line"}),r("p",[t._v("Explore Sweden with")]),r("h1",[t._v("Traili")]),r("h2",[t._v("Are you ready for your next adventure?")])])])}],re={name:"HeaderImage"},ae=re,ne=(0,p.Z)(ae,te,ee,!1,null,null,null),ie=ne.exports;r(6977),r(2222),r(3112),r(1539),r(9714);function oe(t){var e=t/1e3;return e.toFixed(1)}function se(t){var e=t/60,r=Math.floor(e),a=60*(e-r),n=Math.floor(a);return"".concat(le(r),":").concat(le(n))}function le(t){return t.toString().padStart(2,"0")}function ce(t){return 1==t?"easy":2==t?"intermediate":3==t?"difficult":"difficulty unknown"}function ue(t,e){e.$store.dispatch("setCurrentTour",t),e.$router.push("/TrailDetails")}function de(t,e){return t.getters.getFavourites.includes(parseInt(e))}r(8783),r(3948),r(1637);var he="api-kthroyalinstituteoftechnology",ge="RFPGCUCE-EMWGM3KA-4OSSFEWT",ve="AIzaSyCcmWjWcUj-Zz-W8NMNAoMAReR1ZILH-dE";function me(t,e){return t.location?fe(t,e):pe(t,e)}function fe(t,e){return fetch("https://www.outdooractive.com/api/project/"+he+"/nearby/tour?"+new URLSearchParams({category:e,key:ge,lang:"en",fallback:!1})+"&"+new URLSearchParams(t),{method:"GET",headers:{Accept:"application/json"}}).then(_e).then(r);function r(t){return t.result}}function pe(t,e){return fetch("https://www.outdooractive.com/api/project/"+he+"/filter/tour?"+new URLSearchParams({category:e,key:ge,lang:"en",fallback:!1})+"&"+new URLSearchParams(t),{method:"GET",headers:{Accept:"application/json"}}).then(_e).then(r);function r(t){return t.data}}function Ce(t){return fetch("https://www.outdooractive.com/api/project/"+he+"/oois/"+t+"?"+new URLSearchParams({key:ge,lang:"en",fallback:!1}),{method:"GET",headers:{Accept:"application/json"}}).then(_e).then(e);function e(t){return t.tour}}function Se(){return fetch("https://www.outdooractive.com/api/project/"+he+"/category/tree/tour/pruned?"+new URLSearchParams({key:ge,lang:"en"}),{method:"GET",headers:{Accept:"application/json"}}).then(_e).then(t);function t(t){return t.category}}function _e(t){if(200!=t.status)throw"Invalid response";return t.json()}function xe(t,e,r){function a(a){e.promise===t&&(e.data=a||[],r&&r())}function n(a){e.promise===t&&(e.error=a,r&&r())}e.promise=t,e.data=null,e.error=null,r&&r(),null!==t&&t.then(a).catch(n)}var we=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.promiseState&&t.promiseState.promise?t.promiseState.error?a("div",[a("v-alert",{attrs:{type:"error"}},[a("h3",[t._v("Sorry! Something went wrong loading the requested data.")]),t._v(" Error message: "+t._s(t.promiseState.error)+" ")])],1):t.promiseState.data&&0==t.promiseState.data.length?a("div",[a("v-alert",{attrs:{type:"info"}},[t._v(" "+t._s(t.noDataString)+" ")])],1):t.promiseState.data?a("div",[t._t("default")],2):a("div",{staticClass:"loading"},[a("img",{staticClass:"gif",attrs:{src:r(9473)}})]):a("div",{staticClass:"no-data"},[t._v(" "+t._s(t.actionNotStartedString)+" ")])},ye=[],be={props:{promiseState:Object,actionNotStartedString:String,noDataString:String}},Te=be,Ie=(0,p.Z)(Te,we,ye,!1,null,null,null),Ae=Ie.exports;S()(Ie,{VAlert:_.Z});var Be=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("TrailsOverview",{attrs:{headline:t.headline,teaser:t.teaser,sort:t.sort,pagination:t.pagination,sortingIcon:t.sortingIcon,sortCategories:t.sortCategories,sortByCateg:t.sortByCateg,details:t.pagedAssets,numPages:t.numPages,page:t.page},on:{changeSortBy:t.changeSortByACB,changeSortingOrder:t.changeSortingOrderACB,changePage:t.changePageACB}})},ke=[],Ve=r(8932),Ze=(r(2707),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"overview-container"},[r("h2",[t._v(t._s(t.headline))]),r("p",{staticClass:"col-sm-12 col-md-7"},[t._v(t._s(t.teaser))]),t.sort?r("v-row",[r("v-select",{staticClass:"col-10 col-md-11 sort-select",attrs:{items:t.sortCategories,value:t.sortByCateg,label:"Sort by"},on:{change:t.changeSortByACB}}),r("v-btn",{staticClass:"col-2 col-md-1 sort-icon",attrs:{icon:""},on:{click:t.changeSortingOrderACB}},[r("v-icon",[t._v(t._s(t.sortingIcon))])],1)],1):t._e(),r("v-row",t._l(t.details,(function(t,e){return r("div",{key:e,staticClass:"col-sm-12 col-md-4 col card-layout"},[r("TrailOverviewCardPresenter",{attrs:{details:t}})],1)})),0),t.pagination?r("v-pagination",{attrs:{color:"blue-grey lighten-2",value:t.page,length:t.numPages},on:{input:t.changePageACB}}):t._e()],1)}),Fe=[],Ee=(r(9653),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("TrailOverviewCard",{attrs:{details:t.details,addedToFav:t.addedToFav},on:{setCurrent:t.setCurrentACB}})}),Pe=[],$e=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",{staticClass:"card",attrs:{elevation:"4"},on:{click:t.setCurrentTour}},[r("v-img",{attrs:{src:t.details.primaryImage?"https://img.oastatic.com/img/"+t.details.primaryImage.id+"/.jpg":"https://picsum.photos/id/600/1000/300?grayscale","lazy-src":"https://picsum.photos/id/11/100/60",height:"200px"},scopedSlots:t._u([{key:"placeholder",fn:function(){return[r("v-row",{staticClass:"fill-height ma-0",attrs:{align:"center",justify:"center"}},[r("v-progress-circular",{attrs:{indeterminate:"",color:"grey lighten-5"}})],1)]},proxy:!0}])}),t.addedToFav?r("v-icon",{staticClass:"mx-3 mb-3 heart",attrs:{color:"pink"}},[t._v("mdi-heart")]):r("v-icon",{staticClass:"mx-3 mb-3 heart",attrs:{color:"grey"}},[t._v("mdi-heart")]),r("v-card-title",{staticClass:"card-title"},[t._v(" "+t._s(t.details.title)+" ")]),r("v-card-text",{staticClass:"d-flex flex-wrap card-text"},[r("v-chip",{staticClass:"difficulty",attrs:{color:1==t.details.rating.difficulty?"green":2==t.details.rating.difficulty?"yellow darken-2":3==t.details.rating.difficulty?"red":"grey darken-1",dark:"",small:""}},[t._v(" "+t._s(t.getDifficulty(t.details.rating.difficulty))+" ")]),r("v-card-text",[t._v("Time: "+t._s(t.convertTime(t.details.time.min))+" h")]),r("v-card-text",[t._v("Length: "+t._s(t.convertDistance(t.details.length))+" km")]),r("v-card-text",[t._v("Rating: "),r("v-rating",{attrs:{value:t.details.rating.qualityOfExperience,"background-color":"blue-grey lighten-2",color:"amber",dense:"","half-increments":"",readonly:"",small:""}})],1)],1),r("hr"),r("v-card-actions",{staticClass:"mb-8"},[r("v-btn",{attrs:{text:"",color:"blue-grey lighten-2"}},[t._v(" Show More ")])],1)],1)},Le=[],De={name:"TrailOverviewCard",props:{details:Object,addedToFav:Boolean},methods:{convertDistance:oe,convertTime:se,getDifficulty:ce,setCurrentTour:function(){this.$emit("setCurrent")}}},Ue=De,Oe=r(5424),Re=r(7047),je=r(624),Ne=r(2436),Me=r(2877),He=(0,p.Z)(Ue,$e,Le,!1,null,null,null),We=He.exports;S()(He,{VBtn:x.Z,VCard:w.Z,VCardActions:y.h7,VCardText:y.ZB,VCardTitle:y.EB,VChip:Oe.Z,VIcon:A.Z,VImg:Re.Z,VProgressCircular:je.Z,VRating:Ne.Z,VRow:Me.Z});var Ge={props:{details:Object},components:{TrailOverviewCard:We},computed:{addedToFav:function(){return de(this.$store,this.details.id)}},methods:{setCurrentACB:function(){ue(this.details,this)}}},qe=Ge,ze=(0,p.Z)(qe,Ee,Pe,!1,null,null,null),Ke=ze.exports,Qe={components:{TrailOverviewCardPresenter:Ke},name:"TrailsOverview",props:{headline:String,teaser:String,pagination:Boolean,sort:Boolean,sortingIcon:String,sortCategories:Array,sortByCateg:String,details:Array,page:Number,numPages:Number,addedToFav:Boolean},methods:{changeSortingOrderACB:function(){this.$emit("changeSortingOrder")},changeSortByACB:function(t){this.$emit("changeSortBy",t)},changePageACB:function(t){this.$emit("changePage",t)}}},Xe=Qe,Ye=r(6325),Je=r(7998),tr=(0,p.Z)(Xe,Ze,Fe,!1,null,null,null),er=tr.exports;S()(tr,{VBtn:x.Z,VIcon:A.Z,VPagination:Ye.Z,VRow:Me.Z,VSelect:Je.Z});var rr={components:{TrailsOverview:er},data:function(){return{page:1,pageSize:21,sortAsc:!0,sortCategories:["most relevant","title","length"],sortByCateg:"most relevant",sortingIcon:"mdi-sort-ascending"}},props:{headline:String,teaser:String,details:Array,pagination:Boolean,sort:Boolean},computed:{numPages:function(){return Math.ceil(this.detailsSorted.length/this.pageSize)},pagedAssets:function(){if(!this.pagination)return this.detailsSorted;var t=(this.page-1)*this.pageSize,e=(0,Ve.Z)(this.detailsSorted);return e.splice(t,this.pageSize)},detailsSorted:function(){return this.sort?this.sortResults():this.details}},methods:{changeSortByACB:function(t){this.sortByCateg=t},changeSortingOrderACB:function(){this.sortAsc=!this.sortAsc,this.sortingIcon=this.sortAsc?"mdi-sort-ascending":"mdi-sort-descending"},sortResults:function(){var t=this,e=(0,Ve.Z)(this.details);return this.details.length>0&&"most relevant"!=this.sortByCateg&&e.sort((function(e,a){return r(e,a,t.sortByCateg)})),this.sortAsc||e.reverse(),e;function r(t,e,r){return t[r]<e[r]?-1:t[r]>e[r]?1:0}},changePageACB:function(t){this.page=t}}},ar=rr,nr=(0,p.Z)(ar,Be,ke,!1,null,null,null),ir=nr.exports,or={components:{TrailsOverviewPresenter:ir,Header:ie,promiseNoData:Ae},data:function(){return{highlights:[117425031,156278167,153219273],promiseState:{data:[]}}},mounted:function(){return this.highlights.length>0?xe(Ce(this.highlights),this.promiseState):[]},methods:{setCurrentACB:function(t){ue(t,this)}}},sr=or,lr=(0,p.Z)(sr,Yt,Jt,!1,null,null,null),cr=lr.exports,ur=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("search-form-view",{attrs:{searchText:t.searchText,categories:t.categories,selectedCategories:t.selectedCategories,rangeSliders:t.rangeSliders,difficulties:t.difficulties,allCategSet:t.allCategSet,radiusSlider:t.radiusSlider},on:{search:t.search,searchTextChanged:t.searchTextChangedACB,categoriesChanged:t.categoriesChangedACB,rangeSliderChanged:t.sliderChangedACB,difficultiesChanged:t.difficultiesChangedACB,clearFilters:t.clearFiltersACB,setAllCategories:t.setAllCategoriesACB,placeChanged:t.placeChangedACB,radiusValueChanged:t.changeRadiusValueACB}}),r("br"),r("v-divider"),r("br"),""==t.searchText?r("p",{staticClass:"no-data"},[t._v(" There are so many unexplored adventures waiting for you! The first step is to search for a place. ")]):t._e(),""!=t.searchText?r("promiseNoData",{attrs:{promiseState:t.promiseState,noDataString:"Sorry! No trails were found matching your search criteria.",actionNotStartedString:"Click search to find trails matching your criteria."}},[r("trails-overview-presenter",{attrs:{headline:"Results",teaser:"We found "+t.detailsResults.length+" tours that might interest you!",details:t.detailsResults,sort:!0,pagination:!0}})],1):t._e()],1)},dr=[],hr=(r(1249),r(4944),r(3792),r(7327),r(7042),r(9826),r(4747),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"search-container"},[r("v-row",[r("v-col",{staticClass:"col-12 col-md-4"},[r("h3",{staticClass:"search-label"},[t._v("Where do you want to go?")]),r("gmap-autocomplete",{staticClass:"introInput",attrs:{options:{fields:["geometry","formatted_address"],componentRestrictions:{country:"swe"}}},on:{place_changed:t.getAddressDataACB},scopedSlots:t._u([{key:"default",fn:function(e){return[r("v-text-field",{ref:"input",attrs:{label:"Search for a location...",value:t.searchText,color:"blue-grey lighten-2"},on:{listeners:e.listeners,attrs:e.attrs,change:t.onTextChangeACB,keypress:t.onKeyPressedACB}},[t._v(" > ")])]}}])},[t._v(" > ")])],1),r("v-col",{staticClass:"col-12 col-md-8"},[r("h3",{staticClass:"category-label"},[t._v("What adventure are you looking for?")]),r("v-combobox",{attrs:{value:t.selectedCategories,items:t.categories,multiple:"",chips:""},on:{change:t.onDropDownChangeACB},scopedSlots:t._u([{key:"selection",fn:function(e){var a=e.attrs,n=e.item,i=e.parent,o=e.selected,s=e.index;return[s<3?r("v-chip",t._b({attrs:{color:n.color+" lighten-3","input-value":o}},"v-chip",a,!1),[r("span",{staticClass:"pr-2"},[t._v(" "+t._s(n)+" ")]),r("v-icon",{attrs:{small:""},on:{click:function(t){return i.selectItem(n)}}},[t._v(" $delete ")])],1):t._e(),3===s?r("span",{staticClass:"grey--text"},[t._v(" (+"+t._s(t.selectedCategories.length-4)+" others) ")]):t._e()]}}])}),r("v-checkbox",{staticClass:"clear",attrs:{"input-value":t.allCategSet,label:"Clear/Select all categories",color:"blue-grey lighten-2"},on:{change:t.allCategChangedACB}})],1)],1),r("v-row",[r("v-col",{staticClass:"col-12"},[r("v-expansion-panels",[r("v-expansion-panel",[r("v-expansion-panel-header",[t._v(" Filter ")]),r("v-expansion-panel-content",[r("v-btn",{attrs:{icon:""},on:{click:t.clearFiltersACB}},[r("v-icon",[t._v("mdi-replay")])],1),t._l(this.rangeSliders,(function(e){return r("div",{key:e.name},[r("RangeSlider",{attrs:{range:e.range,values:e.sliderValues,name:e.sliderName,unit:e.unit},on:{changed:t.rangeSliderChangedACB}})],1)})),r("p",[t._v("Trail Difficulty")]),t._l(t.difficulties,(function(e){return r("div",{key:e.name},[r("v-checkbox",{attrs:{label:e.name,color:e.color,"input-value":e.selected},on:{change:function(r){return t.checkBoxChangedACB(r,e.name)}}})],1)})),r("div",[r("span",[t._v(t._s(t.radiusSlider.name)+" ")]),r("span",{staticClass:"text-caption"},[t._v("in "+t._s(t.radiusSlider.unit))]),r("span",{staticClass:"float-right"},[t._v(" "+t._s(t.radiusSlider.value+t.radiusSlider.unit)+" ")]),r("v-slider",{attrs:{max:t.radiusSlider.max,min:t.radiusSlider.min,value:t.radiusSlider.value},on:{input:t.radiusSliderChangedACB}})],1)],2)],1)],1)],1),r("v-col",{staticClass:"col-12"},[r("v-btn",{staticClass:"col-12",attrs:{id:"searchBtn",color:"amber"},on:{click:t.onSearchACB}},[t._v("Search!")])],1)],1)],1)}),gr=[],vr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("span",[t._v(t._s(t.name)+" ")]),r("span",{staticClass:"text-caption"},[t._v("in "+t._s(t.unit))]),r("span",{staticClass:"float-right"},[t._v(" "+t._s(t.getValueText())+" ")]),r("v-range-slider",{attrs:{max:t.range[1],min:t.range[0],value:t.values},on:{input:t.changed}})],1)},mr=[],fr={props:{range:Array,values:Array,name:String,unit:String},methods:{changed:function(t){this.$emit("changed",t,this.name)},getValueText:function(){if(this.values.toString()==this.range.toString())return"any";if(this.values[0]==this.values[1])return this.values[0]==this.range[1]?this.range[1]-1+"+"+this.unit:this.values[0]+this.unit;var t=" from "+this.values[0]+this.unit+" to ";return this.values[1]>this.range[1]-1?t+=this.range[1]-1+"+":t+=this.values[1],t+=this.unit,t}}},pr=fr,Cr=r(4423),Sr=(0,p.Z)(pr,vr,mr,!1,null,null,null),_r=Sr.exports;S()(Sr,{VRangeSlider:Cr.Z});var xr={components:{RangeSlider:_r},props:{searchText:String,rangeSliders:Array,difficulties:Array,selectedCategories:Array,categories:Array,allCategSet:Boolean,radiusSlider:Object},emits:["searchTextChanged","search","categoriesChanged","rangeSliderChanged","difficultiesChanged","clearFilters","setAllCategories","placeChanged","radiusValueChanged"],methods:{onTextChangeACB:function(t){this.$emit("searchTextChanged",t)},onKeyPressedACB:function(t){13===t.keyCode&&(this.$emit("searchTextChanged",t.target.value),this.onSearchACB())},onSearchACB:function(){this.$emit("search")},onDropDownChangeACB:function(t){this.$emit("categoriesChanged",t)},rangeSliderChangedACB:function(t,e){this.$emit("rangeSliderChanged",t,e)},checkBoxChangedACB:function(t,e){this.$emit("difficultiesChanged",t,e)},clearFiltersACB:function(){this.$emit("clearFilters")},allCategChangedACB:function(t){this.$emit("setAllCategories",t)},getAddressDataACB:function(t){t.formatted_address&&(this.$emit("placeChanged",t),this.onTextChangeACB(t.formatted_address))},radiusSliderChangedACB:function(t){this.$emit("radiusValueChanged",t)}}},wr=xr,yr=r(8393),br=r(2102),Tr=r(5655),Ir=r(6845),Ar=r(2443),Br=r(1192),kr=r(5630),Vr=r(7611),Zr=(0,p.Z)(wr,hr,gr,!1,null,null,null),Fr=Zr.exports;S()(Zr,{VBtn:x.Z,VCheckbox:yr.Z,VChip:Oe.Z,VCol:br.Z,VCombobox:Tr.Z,VExpansionPanel:Ir.Z,VExpansionPanelContent:Ar.Z,VExpansionPanelHeader:Br.Z,VExpansionPanels:kr.Z,VIcon:A.Z,VRow:Me.Z,VSlider:Vr.Z,VTextField:k.Z});var Er={components:{SearchFormView:Fr,promiseNoData:Ae,TrailsOverviewPresenter:ir},data:function(){return{searchText:"",promiseState:{data:null,error:null,promise:null},categoryPromiseState:{data:null,error:null,promise:null},rangeSliders:[{sliderValues:[0,13],range:[0,13],sliderName:"Duration",unit:"h"},{sliderValues:[0,101],range:[0,101],sliderName:"Distance",unit:"km"},{sliderValues:[0,1501],range:[0,1501],sliderName:"Ascent",unit:"m"}],difficulties:[{name:"easy",color:"green",selected:!0},{name:"moderate",color:"yellow darken-2",selected:!0},{name:"difficult",color:"red darken-4",selected:!0}],selectedCategories:[],allCategSet:!0,place:{},radiusSlider:{name:"Search radius",unit:"km",min:5,max:100,value:50}}},mounted:function(){xe(Se(),this.categoryPromiseState)},watch:{categories:function(){this.selectedCategories=this.categories}},computed:{detailsResults:function(){return this.promiseState&&this.promiseState.data&&this.promiseState.data.length>0?this.promiseState.data:[]},searchParams:function(){return{q:this.searchText,dif_e:this.difficulties[0].selected,dif_m:this.difficulties[1].selected,dif_d:this.difficulties[2].selected,asc_s:this.getSliderValue("Ascent",0),asc_e:this.getSliderValue("Ascent",1),tim_s:this.getSliderValue("Duration",0,60),tim_e:this.getSliderValue("Duration",1,60),len_s:this.getSliderValue("Distance",0,1e3),len_e:this.getSliderValue("Distance",1,1e3),radius:1e3*this.radiusSlider.value,location:this.getLocation()}},categoryIds:function(){return this.categoryNamesToIds(this.selectedCategories)},categories:function(){return this.categoryPromiseState.data?this.categoryPromiseState.data.map((function(t){return t.name})):[]}},methods:{search:function(){""!=this.searchText&&xe(this.searchPromise().then(this.getDetails),this.promiseState)},searchPromise:function(){var t=this;return e();function e(){var e=t.categoryIds.map((function(e){return me(t.searchParams,e)}));return Promise.all(e).then((function(t){return r(t)}));function r(t){return t.filter((function(t){return t})).flat(1)}}},getDetails:function(t){var e=t.map((function(t){return t.id}));if(e&&e.length>0){for(var r=500,a=[],n=0;n<e.length;n+=r)a.push(Ce(e.slice(n,n+r)));return Promise.all(a).then((function(t){return i(t)}))}function i(t){return t?t.flat(1):t}},searchTextChangedACB:function(t){this.searchText=t},categoriesChangedACB:function(t){this.selectedCategories=t},sliderChangedACB:function(t,e){var r=this.rangeSliders.find((function(t){return t.sliderName==e}));r.sliderValues=t},difficultiesChangedACB:function(t,e){var r=this.difficulties.find((function(t){return t.name==e}));r.selected=t},placeChangedACB:function(t){this.place=t},changeRadiusValueACB:function(t){this.radiusSlider.value=t},getLocation:function(){return this.searchText==this.place.formatted_address?this.place.geometry.location.lng()+","+this.place.geometry.location.lat():""},getSliderValue:function(t,e,r){r||(r=1);var a=this.rangeSliders.find((function(e){return e.sliderName==t}));return 0==e?a.sliderValues[0]*r:a.sliderValues[1]==a.range[1]?"":a.sliderValues[1]*r},categoryNamesToIds:function(t){return this.categoryPromiseState.data.filter((function(e){return t.includes(e.name)})).map((function(t){return t.id}))},clearFiltersACB:function(){this.rangeSliders.forEach((function(t){return t.sliderValues=t.range})),this.difficulties.forEach((function(t){return t.selected=!0})),this.radiusSlider.value=50},setAllCategoriesACB:function(t){this.selectedCategories=t?this.categories:[]}}},Pr=Er,$r=(0,p.Z)(Pr,ur,dr,!1,null,null,null),Lr=$r.exports;S()($r,{VDivider:T.Z});var Dr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("TrailDetails",{attrs:{trailInfo:t.trailInfo,addedToFav:t.addedToFav},on:{addToFav:t.onAddToFav,goBack:t.onReturn,removeFromFav:t.onRemoveFromFav}}),r("SnackBar",{attrs:{showSnackbar:t.showSnackbar,text:t.snackbarText},on:{setSnackbarValue:t.setSnackbarValueACB}})],1)},Ur=[],Or=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"detail-container"},[r("v-btn",{staticClass:"ml-2 mb-10 back-button",attrs:{small:""},on:{click:t.backACB}},[t._v(" Go Back ")]),t.trailInfo?r("div",[r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-parallax",{attrs:{height:"300","max-width":"100%",src:t.trailInfo.primaryImage?"https://img.oastatic.com/img/"+t.trailInfo.primaryImage.id+"/.jpg":"https://picsum.photos/id/600/1000/300?grayscale","lazy-src":"https://picsum.photos/id/11/100/300?grayscale"}},[r("v-overlay",{attrs:{absolute:""}},[r("h1",{attrs:{align:"center",justify:"center"}},[t._v(t._s(t.trailInfo.title))])])],1)],1)],1),r("v-row",{staticClass:"ml-auto mr-auto col-10"},[r("v-col",{attrs:{cols:"6",md:"3"}},[r("v-card",{staticClass:"white"},[r("v-img",{staticStyle:{margin:"auto"},attrs:{"max-height":"60px","max-width":"60px",src:"https://www.iconpacks.net/icons/1/free-time-icon-968-thumb.png"}}),t.trailInfo.time?r("v-card-text",{staticClass:"text-center font-weight-medium"},[r("div",[t._v("Time: "+t._s(t.convertTime(t.trailInfo.time.min))+" h")])]):t._e()],1)],1),r("v-col",{attrs:{cols:"6",md:"3"}},[r("v-card",{staticClass:"white"},[r("v-img",{staticStyle:{margin:"auto"},attrs:{"max-height":"60px","max-width":"60px",src:"https://static.thenounproject.com/png/2325457-200.png"}}),t.trailInfo.length?r("v-card-text",{staticClass:"text-center font-weight-medium"},[r("div",[t._v("Length: "+t._s(t.convertDistance(t.trailInfo.length))+" km")])]):t._e()],1)],1),r("v-col",{attrs:{cols:"6",md:"3"}},[r("v-card",{staticClass:"white"},[r("v-img",{staticStyle:{margin:"auto"},attrs:{"max-height":"60px","max-width":"60px",src:"https://static.thenounproject.com/png/209086-200.png"}}),t.trailInfo.elevation?r("v-card-text",{staticClass:"text-center font-weight-medium"},[r("div",[t._v("Ascent: "+t._s(t.trailInfo.elevation.ascent)+" m")])]):t._e()],1)],1),r("v-col",{attrs:{cols:"6",md:"3"}},[r("v-card",{staticClass:"white"},[r("v-img",{staticStyle:{margin:"auto"},attrs:{"max-height":"60px","max-width":"60px",src:"https://static.thenounproject.com/png/209086-200.png"}}),t.trailInfo.elevation?r("v-card-text",{staticClass:"text-center font-weight-medium"},[r("div",[t._v("Descent: "+t._s(t.trailInfo.elevation.descent)+" m")])]):t._e()],1)],1)],1),r("v-row",{staticClass:"ml-auto mr-auto col-10",attrs:{wrap:""}},[r("v-col",{attrs:{cols:"12",md:"9"}},[r("v-card",[t.trailInfo.longText||t.trailInfo.shortText?r("v-card-text",[r("h2",[t._v("The Route Details")]),r("br"),t.trailInfo.longText?r("div",[t._v(" "+t._s(t.removeHTML(t.trailInfo.longText))+" ")]):t._e(),t.trailInfo.shortText?r("div",[t._v(" "+t._s(t.removeHTML(t.trailInfo.shortText))+" ")]):t._e()]):r("v-card-text",[r("div",[t._v("No description available")])])],1)],1),r("v-col",{attrs:{cols:"12",md:"3"}},[r("v-card",[t.trailInfo.rating?r("v-card-text",[r("h3",[t._v("Additional Details")]),r("br"),r("div",{staticClass:"mb-3"},[t._v(" Highest point: "+t._s(t.trailInfo.elevation.maxAltitude)+" m ")]),r("div",{staticClass:"mt-3 mb-3"},[t._v(" Lowest point: "+t._s(t.trailInfo.elevation.minAltitude)+" m ")]),r("div",{staticClass:"mt-3 mb-3"},[t._v(" Difficulty: "),r("v-chip",{attrs:{color:1==t.trailInfo.rating.difficulty?"green":2==t.trailInfo.rating.difficulty?"yellow darken-2":3==t.trailInfo.rating.difficulty?"red":"grey darken-1",dark:"",small:""}},[t._v(" "+t._s(t.getDifficulty(t.trailInfo.rating.difficulty))+" ")])],1),r("div",{staticClass:"mt-3"},[t._v(" Quality of experience: "),r("v-rating",{attrs:{value:t.trailInfo.rating.qualityOfExperience,"background-color":"blue-grey lighten-2",color:"amber",dense:"","half-increments":"",readonly:"",small:""}})],1),r("br"),t.addedToFav?r("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:"pink"},on:{click:function(e){return t.removeFromFavACB()}}},[r("v-icon",{attrs:{dark:""}},[t._v("mdi-heart")])],1):r("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:"grey"},on:{click:function(e){return t.addToFavACB()}}},[r("v-icon",{attrs:{dark:""}},[t._v("mdi-heart")])],1),t.addedToFav?r("v-label",[t._v(" Remove from favourites ")]):r("v-label",[t._v(" Add to favourites ")])],1):t._e()],1)],1)],1),r("v-row",{staticClass:"ml-auto mr-auto col-10",attrs:{wrap:""}},[r("v-col",{attrs:{cols:"12",md:"6"}},[r("v-card",[t.trailInfo.images?r("v-carousel",{attrs:{height:"auto"}},t._l(t.trailInfo.images.image,(function(e,a){return r("v-carousel-item",{key:a,attrs:{"reverse-transition":"fade-transition",transition:"fade-transition"}},[r("v-img",{attrs:{src:"https://img.oastatic.com/img/"+e.id+"/.jpg","lazy-src":"https://picsum.photos/id/11/100/60"},scopedSlots:t._u([{key:"placeholder",fn:function(){return[r("v-row",{staticClass:"fill-height ma-0",attrs:{align:"center",justify:"center"}},[r("v-progress-circular",{attrs:{indeterminate:"",color:"grey lighten-5"}})],1)]},proxy:!0}],null,!0)})],1)})),1):t._e()],1)],1),r("v-col",{attrs:{cols:"12",md:"6"}},[r("v-card",[r("VueWeather")],1)],1)],1)],1):t._e()],1)},Rr=[],jr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.currentTourHasStartingPoint?r("div",[r("vue-weather",{attrs:{"api-key":"7c2818a738ef6f68536c2bd139eaa7b0",units:"uk",latitude:t.lat,longitude:t.lon}})],1):t._e()},Nr=[],Mr=r(7733),Hr={components:{VueWeather:Mr.Z},computed:{currentTourHasStartingPoint:function(){return this.$store.getters.getCurrentTour&&this.$store.getters.getCurrentTour.startingPoint},lat:function(){return this.$store.getters.getCurrentTour.startingPoint.lat.toString()},lon:function(){return this.$store.getters.getCurrentTour.startingPoint.lon.toString()}}},Wr=Hr,Gr=(0,p.Z)(Wr,jr,Nr,!1,null,null,null),qr=Gr.exports,zr={components:{VueWeather:qr},props:{trail:Array,trailInfo:Object,addedToFav:Boolean},methods:{convertDistance:oe,convertTime:se,getDifficulty:ce,backACB:function(){this.$emit("goBack")},addToFavACB:function(){this.$emit("addToFav",this.trailInfo.id)},removeFromFavACB:function(){this.$emit("removeFromFav",this.trailInfo.id)},removeHTML:function(t){var e=document.createElement("DIV");return e.innerHTML=t,e.textContent||e.innerText||""}}},Kr=zr,Qr=r(7426),Xr=r(4062),Yr=r(8501),Jr=r(1058),ta=r(2622),ea=(0,p.Z)(Kr,Or,Rr,!1,null,null,null),ra=ea.exports;S()(ea,{VBtn:x.Z,VCard:w.Z,VCardText:y.ZB,VCarousel:Qr.Z,VCarouselItem:Xr.Z,VChip:Oe.Z,VCol:br.Z,VIcon:A.Z,VImg:Re.Z,VLabel:Yr.Z,VOverlay:Jr.Z,VParallax:ta.Z,VProgressCircular:je.Z,VRating:Ne.Z,VRow:Me.Z});var aa={components:{TrailDetails:ra,SnackBar:Pt},data:function(){return{showSnackbar:!1,snackbarText:""}},computed:{trailInfo:function(){return this.$store.getters.getCurrentTour},addedToFav:function(){return de(this.$store,this.trailInfo.id)}},methods:(0,l.Z)((0,l.Z)({},(0,j.nv)(["addToFav","removeFromFav"])),{},{onAddToFav:function(t){this.$store.getters.getLoggedIn?(this.addToFav(t),this.setSnackbarSettings(!0,"Trail added to favourites")):(this.setSnackbarSettings(!0,"Please log in to add trails to your favourites!"),this.$store.dispatch("setShowLogInPopUp",!0))},onReturn:function(){this.$router.go(-1)},onRemoveFromFav:function(t){this.removeFromFav(t),this.setSnackbarSettings(!0,"Trail removed from favourites")},setSnackbarValueACB:function(t){this.showSnackbar=t},setSnackbarSettings:function(t,e){this.showSnackbar=t,this.snackbarText=e}})},na=aa,ia=(0,p.Z)(na,Dr,Ur,!1,null,null,null),oa=ia.exports,sa=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("promiseNoData",{attrs:{promiseState:t.promiseState,noDataString:"There are no favourite trails available",actionNotStartedString:"Whoops, looks like you havenâ€™t gotten around to exploring yet! Go and search for your next adventure and save your favourite trails!"}},[r("trails-overview-presenter",{attrs:{headline:"your favourite trails",teaser:"We save all your favourite tours here so that you can experience them later.",details:t.promiseState.data,pagination:!1,sort:!0}})],1)],1)},la=[],ca={components:{TrailsOverviewPresenter:ir,promiseNoData:Ae},data:function(){return{promiseState:{data:null,error:null,promise:null}}},mounted:function(){this.loadFavourites()},watch:{favouriteTrails:function(){this.loadFavourites()}},computed:{favouriteTrails:function(){return this.$store.getters.getFavourites}},methods:{loadFavourites:function(){this.favouriteTrails.length>0?xe(Ce(this.favouriteTrails),this.promiseState):(this.promiseState.data=null,this.promiseState.error=null,this.promiseState.promise=null)}}},ua=ca,da=(0,p.Z)(ua,sa,la,!1,null,null,null),ha=da.exports,ga=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("NotFoundView",{on:{toExplore:t.route2ExploreACB}})},va=[],ma=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"not-found"},[r("h2",[t._v("Ooopps!")]),r("p",[t._v("Looks like you are lost!")]),r("v-btn",{on:{click:t.goToExplore}},[t._v("Go back to Landing Page")])],1)},fa=[],pa={name:"NotFound",emits:["toExplore"],methods:{goToExplore:function(){this.$emit("toExplore")}}},Ca=pa,Sa=(0,p.Z)(Ca,ma,fa,!1,null,null,null),_a=Sa.exports;S()(Sa,{VBtn:x.Z});var xa={components:{NotFoundView:_a},methods:{route2ExploreACB:function(){this.$router.push("/Explore")}}},wa=xa,ya=(0,p.Z)(wa,ga,va,!1,null,null,null),ba=ya.exports,Ta=Xt.Z.prototype.replace;Xt.Z.prototype.replace=function(t){return Ta.call(this,t).catch((function(t){return t}))},a["default"].use(Xt.Z);var Ia,Aa=new Xt.Z({mode:"hash",base:"/Traili/",routes:[{path:"/Explore",name:"explore",component:cr},{path:"/Search",name:"search",component:Lr},{path:"/TrailDetails",name:"details",component:oa},{path:"/Favourites",name:"favourites",component:ha},{path:"*",name:"pageNotFound",component:ba}],scrollBehavior:function(){return{x:0,y:0}}}),Ba=r(218);a["default"].use(Ba,{load:{key:ve,libraries:"places"},installComponents:!0}),a["default"].config.productionTip=!1,a["default"].use(Xt.Z),new a["default"]({store:Gt,vuetify:Qt,router:Aa,render:function(t){return t(Wt)},mounted:function(){var t=this,e=(0,$.v0)();(0,$.Aj)(e,(function(e){e?t.$store.dispatch("initData",e):Ia&&t.$store.dispatch("clearData")})),Ia=Gt.subscribe((function(t){"setUID"===t.type&&D(Gt),"addToFav"!==t.type&&"removeFromFav"!==t.type||L(Gt)})),this.$router.push("/Explore").catch((function(){}))},beforeDestroyed:function(){Ia()}}).$mount("#app")},9574:function(t,e,r){t.exports=r.p+"img/logo.cff01dd0.svg"},9473:function(t,e,r){t.exports=r.p+"img/hikingGif1.1.9c470463.gif"}},e={};function r(a){var n=e[a];if(void 0!==n)return n.exports;var i=e[a]={id:a,loaded:!1,exports:{}};return t[a].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}r.m=t,function(){var t=[];r.O=function(e,a,n,i){if(!a){var o=1/0;for(u=0;u<t.length;u++){a=t[u][0],n=t[u][1],i=t[u][2];for(var s=!0,l=0;l<a.length;l++)(!1&i||o>=i)&&Object.keys(r.O).every((function(t){return r.O[t](a[l])}))?a.splice(l--,1):(s=!1,i<o&&(o=i));if(s){t.splice(u--,1);var c=n();void 0!==c&&(e=c)}}return e}i=i||0;for(var u=t.length;u>0&&t[u-1][2]>i;u--)t[u]=t[u-1];t[u]=[a,n,i]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var a in e)r.o(e,a)&&!r.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){r.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){r.p="/Traili/"}(),function(){var t={143:0};r.O.j=function(e){return 0===t[e]};var e=function(e,a){var n,i,o=a[0],s=a[1],l=a[2],c=0;if(o.some((function(e){return 0!==t[e]}))){for(n in s)r.o(s,n)&&(r.m[n]=s[n]);if(l)var u=l(r)}for(e&&e(a);c<o.length;c++)i=o[c],r.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return r.O(u)},a=self["webpackChunktraili"]=self["webpackChunktraili"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=r.O(void 0,[998],(function(){return r(1993)}));a=r.O(a)})();
//# sourceMappingURL=app-legacy.35f0a52f.js.map