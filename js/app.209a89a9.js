(function(){"use strict";var t={1993:function(t,e,a){var r=a(144),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{staticClass:"app"},[a("v-main",[a("NavBar"),a("v-container",{attrs:{fluid:""}},[a("keep-alive",[a("router-view")],1)],1),a("snackbar-presenter")],1),a("Footer")],1)},i=[],s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("NavbarView",{attrs:{loggedIn:t.getLoggedIn},on:{toFav:t.goToFavACB,toSearch:t.route2SearchACB,toExplore:t.route2ExploreACB}}),a("v-spacer")],1)},o=[],l=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-app-bar",{staticClass:"nav-bar",attrs:{app:"",color:"primary",dark:""}},[r("v-toolbar-title",{staticClass:"nav-bar-title",on:{click:t.goToExplore}},[r("img",{attrs:{src:a(9574)}}),t._v("Traili")]),r("v-spacer"),r("v-btn",{attrs:{icon:""},on:{click:t.goToSearch}},[r("v-icon",[t._v("mdi-magnify")])],1),r("v-btn",{attrs:{icon:""},on:{click:t.goToFavourites}},[r("v-icon",[t._v("mdi-heart")])],1),t.loggedIn?t._e():r("login-presenter"),t.loggedIn?r("logout-presenter"):t._e()],1)],1)},c=[],u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("login-view",{attrs:{showLogInPopUp:t.showLogInPopUp,email:t.emailText,emailRules:t.emailRules,password:t.password,passwordRules:t.passwordRules,errorAlert:t.errorText},on:{emailTextChanged:t.emailChangedACB,pswTextChanged:t.pswChangedACB,onCreate:t.createACB,onLogin:t.loginACB,setShowLogIn:t.setShowLogInPopUp}})],1)},d=[],h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center"},[a("v-dialog",{attrs:{value:t.showLogInPopUp,width:"500"},on:{input:t.updateShowLogIn},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.attrs;return[a("v-btn",t._b({attrs:{icon:""},on:{click:function(e){return t.updateShowLogIn(!0)}}},"v-btn",r,!1),[a("v-icon",[t._v("mdi-account-circle ")])],1)]}}])},[a("v-card",[a("v-card-title",{staticClass:"text-h5 grey lighten-2"},[t._v(" Login/SignUp "),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.updateShowLogIn(!1)}}},[a("v-icon",[t._v("mdi-close")])],1)],1),a("v-card-text",[a("v-form",[a("v-text-field",{attrs:{type:"text ",label:"Email",value:t.email,rules:t.emailRules,required:""},on:{change:t.onEmailChangeACB}}),a("v-text-field",{attrs:{type:"password",label:"Password",value:t.password,counter:6,rules:t.passwordRules,required:""},on:{change:t.onPswChangeACB}})],1)],1),t.errorAlert?a("div",[a("v-alert",{attrs:{type:"error"}},[t._v(" "+t._s(t.errorAlert)+" ")])],1):t._e(),a("v-divider"),a("v-card-actions",[a("v-btn",{on:{click:t.onLoginACB}},[t._v("Login")]),a("v-btn",{on:{click:t.onCreateACB}},[t._v("Create")])],1)],1)],1)],1)},g=[],m={props:{showLogInPopUp:Boolean,email:String,emailRules:Array,password:String,passwordRules:Array,errorAlert:String},emits:["emailTextChanged","pswTextChanged","onCreate","onLogin","onQuit","setShowLogIn"],methods:{updateShowLogIn(t){this.$emit("setShowLogIn",t)},onEmailChangeACB:function(t){this.$emit("emailTextChanged",t)},onPswChangeACB:function(t){this.$emit("pswTextChanged",t)},onCreateACB:function(){this.$emit("onCreate")},onLoginACB:function(){this.$emit("onLogin")},onQuitACB:function(){this.$emit("onQuit")}}},v=m,p=a(1001),f=a(3453),C=a.n(f),S=a(1234),_=a(3150),x=a(3237),w=a(7118),y=a(4497),b=a(1418),T=a(6232),I=a(6428),A=a(9762),B=a(314),k=(0,p.Z)(v,h,g,!1,null,null,null),V=k.exports;C()(k,{VAlert:S.Z,VBtn:_.Z,VCard:x.Z,VCardActions:w.h7,VCardText:w.ZB,VCardTitle:w.EB,VDialog:y.Z,VDivider:b.Z,VForm:T.Z,VIcon:I.Z,VSpacer:A.Z,VTextField:B.Z});a(1703);var Z=a(7663),F={apiKey:"AIzaSyDM-Dm4bmoCx9BZVLmwIM91wBElXsMiq8o",authDomain:"traili.firebaseapp.com",databaseURL:"https://traili-default-rtdb.europe-west1.firebasedatabase.app",projectId:"traili",storageBucket:"traili.appspot.com",messagingSenderId:"12255820074",appId:"1:12255820074:web:094b14a8e530eb3a600653",measurementId:"G-87SPEL9JE3"},E=a(5503),P=a(949);function $(t){const e=t.getters.getUID;if(e&&""!=e){const a=(0,Z.N8)();(0,Z.t8)((0,Z.iH)(a,e+"/favourites"),t.getters.getFavourites)}else console.log("cannot update model, please sign in!")}function L(t){const e=t.getters.getUID;if(e&&""!=e){const a=(0,Z.N8)();(0,Z.jM)((0,Z.iH)(a,e+"/favourites"),(function(r){var n=r.val();null===n?(0,Z.t8)((0,Z.iH)(a,e+"/favourites"),[]):n!==t.getters.getFavourites&&t.dispatch("setFav",n)}))}}function D(t,e){const a=(0,P.v0)();return(0,P.Xb)(a,t,e).then((()=>{U(t,e)})).catch((t=>{throw new Error("create error: "+t.code+t.message)}))}function U(t,e){const a=(0,P.v0)();return(0,P.e5)(a,t,e).then((()=>{})).catch((t=>{throw new Error("login error: "+t.code+t.message)}))}function O(){const t=(0,P.v0)();(0,P.w7)(t).then((()=>{})).catch((t=>{console.error("log out error: "+t.message)}))}(0,E.ZF)(F);var R=a(629),j={components:{loginView:V},data(){return{emailText:"",emailRules:[t=>!!t||"E-mail is required",t=>/.+@.+\..+/.test(t)||"E-mail must be valid"],password:"",passwordRules:[t=>!!t||"Password is required",t=>t&&t.length>=6||"Password must be more than 6 characters"],errorText:""}},computed:{showLogInPopUp(){return this.$store.getters.getShowLogInPopUp}},methods:{...(0,R.nv)(["initData","clearData","setShowLogInPopUp"]),emailChangedACB:function(t){this.emailText=t},pswChangedACB:function(t){this.password=t},createACB:function(){D(this.emailText,this.password).catch((t=>this.setDisplayError(t.message)))},loginACB:function(){U(this.emailText,this.password).catch((t=>this.setDisplayError(t.message)))},setDisplayError(t){this.errorText=t}}},N=j,M=(0,p.Z)(N,u,d,!1,null,null,null),H=M.exports,W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("logOutView",{attrs:{showUserInfo:t.showUserInfo,name:t.name,email:t.email,avatarInitials:t.avatarInitials},on:{setShowUserInfo:t.setShowUserInfo,onLogOut:t.logOutACB}})},G=[],q=a(4626),z=a.n(q),K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.setShowUserInfoACB(!0)}}},[a("v-icon",[t._v("mdi-account-circle ")])],1),a("v-navigation-drawer",{staticStyle:{height:"auto",top:"64px"},attrs:{absolute:"",temporary:"",value:t.showUserInfo,right:""},on:{input:t.setShowUserInfoACB},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("v-list-item",{attrs:{"two-line":""}},[a("v-list-item-avatar",{attrs:{color:"#033"}},[a("span",{staticClass:"white--text text-h5"},[t._v(t._s(t.avatarInitials))])]),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.name))]),a("v-list-item-subtitle",[t._v(t._s(t.email))])],1)],1)]},proxy:!0}])},[a("v-divider"),a("div",{staticClass:"text-center"},[a("v-btn",{on:{click:t.onLogOutACB}},[t._v("Sign out")])],1)],1)],1)},Q=[],X={props:{showUserInfo:Boolean,name:String,email:String,avatarInitials:String},emits:["showLoggedInView","onLogOut"],methods:{setShowUserInfoACB:function(t){this.$emit("setShowUserInfo",t)},onLogOutACB:function(){this.$emit("onLogOut")}}},Y=X,J=a(7620),tt=a(5457),et=a(6451),at=a(6724),rt=(0,p.Z)(Y,K,Q,!1,null,null,null),nt=rt.exports;C()(rt,{VBtn:_.Z,VDivider:b.Z,VIcon:I.Z,VListItem:J.Z,VListItemAvatar:tt.Z,VListItemContent:et.km,VListItemSubtitle:et.oZ,VListItemTitle:et.V9,VNavigationDrawer:at.Z});var it={components:{logOutView:nt},data(){return{showUserInfo:!1}},computed:{email:function(){return this.$store.getters.getEmail},name:function(){return z().process(this.email)},avatarInitials:function(){return this.name.match(/(\b\S)?/g).join("").toUpperCase()}},methods:{...(0,R.nv)(["clearData"]),logOutACB(){O()},setShowUserInfo:function(t){this.showUserInfo=t}}},st=it,ot=(0,p.Z)(st,W,G,!1,null,null,null),lt=ot.exports,ct={components:{loginPresenter:H,logoutPresenter:lt},name:"NavbarView",emits:["toSearch","toFav","toExplore"],props:{loggedIn:Boolean},methods:{goToFavourites:function(){this.$emit("toFav")},goToSearch:function(){this.$emit("toSearch")},goToExplore:function(){this.$emit("toExplore")}}},ut=ct,dt=a(8320),ht=a(7921),gt=(0,p.Z)(ut,l,c,!1,null,null,null),mt=gt.exports;C()(gt,{VAppBar:dt.Z,VBtn:_.Z,VIcon:I.Z,VSpacer:A.Z,VToolbarTitle:ht.qW});var vt={components:{NavbarView:mt},computed:{...(0,R.Se)(["getLoggedIn","getShowLogInPopUp"])},methods:{...(0,R.nv)(["setShowLogInPopUp","setSnackbar"]),goToFavACB:function(){this.getLoggedIn?this.$router.push("/Favourites").catch((()=>{})):(this.setSnackbar("Please log in to see your favourite trails!"),this.setShowLogInPopUp(!0))},route2SearchACB:function(){this.$router.push("/Search").catch((()=>{}))},route2ExploreACB:function(){this.$router.push("/Explore").catch((()=>{}))}}},pt=vt,ft=(0,p.Z)(pt,s,o,!1,null,null,null),Ct=ft.exports;C()(ft,{VSpacer:A.Z});var St=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},_t=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"spacing"}),a("footer")])}],xt={name:"FooterImage"},wt=xt,yt=(0,p.Z)(wt,St,_t,!1,null,null,null),bt=yt.exports,Tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("SnackBar",{attrs:{showSnackbar:t.getSnackbarValue,text:t.getSnackbarText},on:{setSnackbarValue:t.setSnackbarValue}})},It=[],At=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-snackbar",{attrs:{value:t.showSnackbar},on:{input:t.updateValue},scopedSlots:t._u([{key:"action",fn:function(e){var r=e.attrs;return[a("v-btn",t._b({attrs:{color:"red",text:""},on:{click:function(e){return t.updateValue(!1)}}},"v-btn",r,!1),[t._v(" Close ")])]}}])},[t._v(" "+t._s(t.text)+" ")])},Bt=[],kt={name:"SnackBar",props:{showSnackbar:Boolean,text:String},emits:["setSnackbarValue"],methods:{updateValue(t){this.$emit("setSnackbarValue",t)}}},Vt=kt,Zt=a(3202),Ft=(0,p.Z)(Vt,At,Bt,!1,null,null,null),Et=Ft.exports;C()(Ft,{VBtn:_.Z,VSnackbar:Zt.Z});var Pt={components:{SnackBar:Et},computed:{...(0,R.Se)(["getSnackbarValue","getSnackbarText"])},methods:{...(0,R.nv)(["setSnackbarValue"])}},$t=Pt,Lt=(0,p.Z)($t,Tt,It,!1,null,null,null),Dt=Lt.exports,Ut={name:"App",components:{NavBar:Ct,Footer:bt,SnackbarPresenter:Dt}},Ot=Ut,Rt=a(7524),jt=a(9846),Nt=a(7877),Mt=(0,p.Z)(Ot,n,i,!1,null,null,null),Ht=Mt.exports;C()(Mt,{VApp:Rt.Z,VContainer:jt.Z,VMain:Nt.Z}),r["default"].use(R.ZP);var Wt=new R.ZP.Store({state:{favourites:[],currentTour:{},loggedIn:!1,UID:"",userEmail:"",snackbarValue:!1,snackbarText:"",showLogInPopUp:!1},getters:{getCurrentTour(t){return t.currentTour},getWeather(t){return t.weather},getUID(t){return t.UID},getCurrentTourID(t){return t.currentTourID},getFavourites(t){return t.favourites},getLoggedIn(t){return t.loggedIn},getEmail(t){return t.userEmail},getSnackbarValue(t){return t.snackbarValue},getSnackbarText(t){return t.snackbarText},getShowLogInPopUp(t){return t.showLogInPopUp}},mutations:{addToFav(t,e){t.favourites.push(e)},removeFromFav(t,e){t.favourites.splice(t.favourites.indexOf(e),1)},setCurrentTour(t,e){t.currentTour=e},setLoggedIn(t,e){t.loggedIn=e},setUID(t,e){t.UID=e},setFav(t,e){t.favourites=e},setUserEmail(t,e){t.userEmail=e},setSnackbarValue(t,e){t.snackbarValue=e},setSnackbarText(t,e){t.snackbarText=e},setShowLogInPopUp(t,e){t.showLogInPopUp=e}},actions:{setCurrentTour({commit:t},e){t("setCurrentTour",e)},setFav({commit:t},e){t("setFav",e)},setUID({commit:t},e){t("setUID",e)},setLoggedIn({commit:t},e){t("setLoggedIn",e)},clearData({commit:t}){t("setUID",""),t("setFav",[]),t("setLoggedIn",!1),t("setSnackbarValue",!0),t("setSnackbarText","You are logged out!")},initData({commit:t},e){t("setUID",e.uid),t("setLoggedIn",!0),t("setUserEmail",e.email),t("setSnackbarValue",!0),t("setSnackbarText","You are logged in!"),t("setShowLogInPopUp",!1)},addToFav(t,e){t.getters.getFavourites.includes(parseInt(e))||t.commit("addToFav",parseInt(e))},removeFromFav(t,e){t.getters.getFavourites.includes(parseInt(e))&&t.commit("removeFromFav",parseInt(e))},setUserEmail({commit:t},e){t("setUserEmail",e)},setSnackbar({commit:t},e){t("setSnackbarValue",!0),t("setSnackbarText",e)},setSnackbarValue({commit:t},e){t("setSnackbarValue",e)},setShowLogInPopUp({commit:t},e){t("setShowLogInPopUp",e)}},modules:{}}),Gt=a(8209),qt=a.n(Gt);a(243);r["default"].use(qt());const zt={};var Kt=new(qt())(zt),Qt=a(8345),Xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Header"),a("promiseNoData",{attrs:{promiseState:t.promiseState,noDataString:"There are no recommended tours!"}},[a("trails-overview-presenter",{attrs:{headline:"Highlights",teaser:"Explore the trending trips which our team has carefully selected for you. Start planing and choose the trail that suits you best.",details:t.promiseState.data,pagination:!1,sort:!1}})],1)],1)},Yt=[],Jt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},te=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("header",[a("div",{staticClass:"line"}),a("p",[t._v("Explore Sweden with")]),a("h1",[t._v("Traili")]),a("h2",[t._v("Are you ready for your next adventure?")])])])}],ee={name:"HeaderImage"},ae=ee,re=(0,p.Z)(ae,Jt,te,!1,null,null,null),ne=re.exports;function ie(t){let e=t/1e3;return e.toFixed(1)}function se(t){var e=t/60,a=Math.floor(e),r=60*(e-a),n=Math.floor(r);return`${oe(a)}:${oe(n)}`}function oe(t){return t.toString().padStart(2,"0")}function le(t){return 1==t?"easy":2==t?"intermediate":3==t?"difficult":"difficulty unknown"}function ce(t,e){e.$store.dispatch("setCurrentTour",t),e.$router.push("/TrailDetails")}function ue(t,e){return t.getters.getFavourites.includes(parseInt(e))}const de="api-kthroyalinstituteoftechnology",he="RFPGCUCE-EMWGM3KA-4OSSFEWT",ge="AIzaSyCcmWjWcUj-Zz-W8NMNAoMAReR1ZILH-dE";function me(t,e){return t.location?ve(t,e):pe(t,e)}function ve(t,e){return fetch("https://www.outdooractive.com/api/project/"+de+"/nearby/tour?"+new URLSearchParams({category:e,key:he,lang:"en",fallback:!1})+"&"+new URLSearchParams(t),{method:"GET",headers:{Accept:"application/json"}}).then(Se).then(a);function a(t){return t.result}}function pe(t,e){return fetch("https://www.outdooractive.com/api/project/"+de+"/filter/tour?"+new URLSearchParams({category:e,key:he,lang:"en",fallback:!1})+"&"+new URLSearchParams(t),{method:"GET",headers:{Accept:"application/json"}}).then(Se).then(a);function a(t){return t.data}}function fe(t){return fetch("https://www.outdooractive.com/api/project/"+de+"/oois/"+t+"?"+new URLSearchParams({key:he,lang:"en",fallback:!1}),{method:"GET",headers:{Accept:"application/json"}}).then(Se).then(e);function e(t){return t.tour}}function Ce(){return fetch("https://www.outdooractive.com/api/project/"+de+"/category/tree/tour/pruned?"+new URLSearchParams({key:he,lang:"en"}),{method:"GET",headers:{Accept:"application/json"}}).then(Se).then(t);function t(t){return t.category}}function Se(t){if(200!=t.status)throw"Invalid response";return t.json()}function _e(t,e,a){function r(r){e.promise===t&&(e.data=r||[],a&&a())}function n(r){e.promise===t&&(e.error=r,a&&a())}e.promise=t,e.data=null,e.error=null,a&&a(),null!==t&&t.then(r).catch(n)}var xe=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.promiseState&&t.promiseState.promise?t.promiseState.error?r("div",[r("v-alert",{attrs:{type:"error"}},[r("h3",[t._v("Sorry! Something went wrong loading the requested data.")]),t._v(" Error message: "+t._s(t.promiseState.error)+" ")])],1):t.promiseState.data&&0==t.promiseState.data.length?r("div",[r("v-alert",{attrs:{type:"info"}},[t._v(" "+t._s(t.noDataString)+" ")])],1):t.promiseState.data?r("div",[t._t("default")],2):r("div",{staticClass:"loading"},[r("img",{staticClass:"gif",attrs:{src:a(9473)}})]):r("div",{staticClass:"no-data"},[t._v(" "+t._s(t.actionNotStartedString)+" ")])},we=[],ye={props:{promiseState:Object,actionNotStartedString:String,noDataString:String}},be=ye,Te=(0,p.Z)(be,xe,we,!1,null,null,null),Ie=Te.exports;C()(Te,{VAlert:S.Z});var Ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("TrailsOverview",{attrs:{headline:t.headline,teaser:t.teaser,sort:t.sort,pagination:t.pagination,sortingIcon:t.sortingIcon,sortCategories:t.sortCategories,sortByCateg:t.sortByCateg,details:t.pagedAssets,numPages:t.numPages,page:t.page},on:{changeSortBy:t.changeSortByACB,changeSortingOrder:t.changeSortingOrderACB,changePage:t.changePageACB}})},Be=[],ke=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"overview-container"},[a("h2",[t._v(t._s(t.headline))]),a("p",{staticClass:"col-sm-12 col-md-7"},[t._v(t._s(t.teaser))]),t.sort?a("v-row",[a("v-select",{staticClass:"col-10 col-md-11 sort-select",attrs:{items:t.sortCategories,value:t.sortByCateg,label:"Sort by"},on:{change:t.changeSortByACB}}),a("v-btn",{staticClass:"col-2 col-md-1 sort-icon",attrs:{icon:""},on:{click:t.changeSortingOrderACB}},[a("v-icon",[t._v(t._s(t.sortingIcon))])],1)],1):t._e(),a("v-row",t._l(t.details,(function(t,e){return a("div",{key:e,staticClass:"col-sm-12 col-md-4 col card-layout"},[a("TrailOverviewCardPresenter",{attrs:{details:t}})],1)})),0),t.pagination?a("v-pagination",{attrs:{color:"blue-grey lighten-2",value:t.page,length:t.numPages},on:{input:t.changePageACB}}):t._e()],1)},Ve=[],Ze=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("TrailOverviewCard",{attrs:{details:t.details,addedToFav:t.addedToFav},on:{setCurrent:t.setCurrentACB}})},Fe=[],Ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"card",attrs:{elevation:"4"},on:{click:t.setCurrentTour}},[a("v-img",{attrs:{src:t.details.primaryImage?"https://img.oastatic.com/img/"+t.details.primaryImage.id+"/.jpg":"https://picsum.photos/id/600/1000/300?grayscale","lazy-src":"https://picsum.photos/id/11/100/60",height:"200px"},scopedSlots:t._u([{key:"placeholder",fn:function(){return[a("v-row",{staticClass:"fill-height ma-0",attrs:{align:"center",justify:"center"}},[a("v-progress-circular",{attrs:{indeterminate:"",color:"grey lighten-5"}})],1)]},proxy:!0}])}),t.addedToFav?a("v-icon",{staticClass:"mx-3 mb-3 heart",attrs:{color:"pink"}},[t._v("mdi-heart")]):a("v-icon",{staticClass:"mx-3 mb-3 heart",attrs:{color:"grey"}},[t._v("mdi-heart")]),a("v-card-title",{staticClass:"card-title"},[t._v(" "+t._s(t.details.title)+" ")]),a("v-card-text",{staticClass:"d-flex flex-wrap card-text"},[a("v-chip",{staticClass:"difficulty",attrs:{color:1==t.details.rating.difficulty?"green":2==t.details.rating.difficulty?"yellow darken-2":3==t.details.rating.difficulty?"red":"grey darken-1",dark:"",small:""}},[t._v(" "+t._s(t.getDifficulty(t.details.rating.difficulty))+" ")]),a("v-card-text",[t._v("Time: "+t._s(t.convertTime(t.details.time.min))+" h")]),a("v-card-text",[t._v("Length: "+t._s(t.convertDistance(t.details.length))+" km")]),a("v-card-text",[t._v("Rating: "),a("v-rating",{attrs:{value:t.details.rating.qualityOfExperience,"background-color":"blue-grey lighten-2",color:"amber",dense:"","half-increments":"",readonly:"",small:""}})],1)],1),a("hr"),a("v-card-actions",{staticClass:"mb-8"},[a("v-btn",{attrs:{text:"",color:"blue-grey lighten-2"}},[t._v(" Show More ")])],1)],1)},Pe=[],$e={name:"TrailOverviewCard",props:{details:Object,addedToFav:Boolean},methods:{convertDistance:ie,convertTime:se,getDifficulty:le,setCurrentTour:function(){this.$emit("setCurrent")}}},Le=$e,De=a(5424),Ue=a(7047),Oe=a(624),Re=a(2436),je=a(2877),Ne=(0,p.Z)(Le,Ee,Pe,!1,null,null,null),Me=Ne.exports;C()(Ne,{VBtn:_.Z,VCard:x.Z,VCardActions:w.h7,VCardText:w.ZB,VCardTitle:w.EB,VChip:De.Z,VIcon:I.Z,VImg:Ue.Z,VProgressCircular:Oe.Z,VRating:Re.Z,VRow:je.Z});var He={props:{details:Object},components:{TrailOverviewCard:Me},computed:{addedToFav(){return ue(this.$store,this.details.id)}},methods:{setCurrentACB(){ce(this.details,this)}}},We=He,Ge=(0,p.Z)(We,Ze,Fe,!1,null,null,null),qe=Ge.exports,ze={components:{TrailOverviewCardPresenter:qe},name:"TrailsOverview",props:{headline:String,teaser:String,pagination:Boolean,sort:Boolean,sortingIcon:String,sortCategories:Array,sortByCateg:String,details:Array,page:Number,numPages:Number,addedToFav:Boolean},methods:{changeSortingOrderACB(){this.$emit("changeSortingOrder")},changeSortByACB(t){this.$emit("changeSortBy",t)},changePageACB(t){this.$emit("changePage",t)}}},Ke=ze,Qe=a(6325),Xe=a(7998),Ye=(0,p.Z)(Ke,ke,Ve,!1,null,null,null),Je=Ye.exports;C()(Ye,{VBtn:_.Z,VIcon:I.Z,VPagination:Qe.Z,VRow:je.Z,VSelect:Xe.Z});var ta={components:{TrailsOverview:Je},data(){return{page:1,pageSize:21,sortAsc:!0,sortCategories:["most relevant","title","length"],sortByCateg:"most relevant",sortingIcon:"mdi-sort-ascending"}},props:{headline:String,teaser:String,details:Array,pagination:Boolean,sort:Boolean},computed:{numPages(){return Math.ceil(this.detailsSorted.length/this.pageSize)},pagedAssets(){if(!this.pagination)return this.detailsSorted;const t=(this.page-1)*this.pageSize,e=[...this.detailsSorted];return e.splice(t,this.pageSize)},detailsSorted(){return this.sort?this.sortResults():this.details}},methods:{changeSortByACB(t){this.sortByCateg=t},changeSortingOrderACB(){this.sortAsc=!this.sortAsc,this.sortingIcon=this.sortAsc?"mdi-sort-ascending":"mdi-sort-descending"},sortResults(){var t=[...this.details];return this.details.length>0&&"most relevant"!=this.sortByCateg&&t.sort(((t,a)=>e(t,a,this.sortByCateg))),this.sortAsc||t.reverse(),t;function e(t,e,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}},changePageACB(t){this.page=t}}},ea=ta,aa=(0,p.Z)(ea,Ae,Be,!1,null,null,null),ra=aa.exports,na={components:{TrailsOverviewPresenter:ra,Header:ne,promiseNoData:Ie},data(){return{highlights:[117425031,156278167,153219273],promiseState:{data:[]}}},mounted:function(){return this.highlights.length>0?_e(fe(this.highlights),this.promiseState):[]},methods:{setCurrentACB(t){ce(t,this)}}},ia=na,sa=(0,p.Z)(ia,Xt,Yt,!1,null,null,null),oa=sa.exports,la=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("search-form-view",{attrs:{searchText:t.searchText,categories:t.categories,selectedCategories:t.selectedCategories,rangeSliders:t.rangeSliders,difficulties:t.difficulties,allCategSet:t.allCategSet,radiusSlider:t.radiusSlider},on:{search:t.search,searchTextChanged:t.searchTextChangedACB,categoriesChanged:t.categoriesChangedACB,rangeSliderChanged:t.sliderChangedACB,difficultiesChanged:t.difficultiesChangedACB,clearFilters:t.clearFiltersACB,setAllCategories:t.setAllCategoriesACB,placeChanged:t.placeChangedACB,radiusValueChanged:t.changeRadiusValueACB}}),a("br"),a("v-divider"),a("br"),""==t.searchText?a("p",{staticClass:"no-data"},[t._v(" There are so many unexplored adventures waiting for you! The first step is to search for a place. ")]):t._e(),""!=t.searchText?a("promiseNoData",{attrs:{promiseState:t.promiseState,noDataString:"Sorry! No trails were found matching your search criteria.",actionNotStartedString:"Click search to find trails matching your criteria."}},[a("trails-overview-presenter",{attrs:{headline:"Results",teaser:"We found "+t.detailsResults.length+" tours that might interest you!",details:t.detailsResults,sort:!0,pagination:!0}})],1):t._e()],1)},ca=[],ua=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"search-container"},[a("v-row",[a("v-col",{staticClass:"col-12 col-md-4"},[a("h3",{staticClass:"search-label"},[t._v("Where do you want to go?")]),a("gmap-autocomplete",{staticClass:"introInput",attrs:{options:{fields:["geometry","formatted_address"],componentRestrictions:{country:"swe"}}},on:{place_changed:t.getAddressDataACB},scopedSlots:t._u([{key:"default",fn:function(e){return[a("v-text-field",{ref:"input",attrs:{label:"Search for a location...",value:t.searchText,color:"blue-grey lighten-2"},on:{listeners:e.listeners,attrs:e.attrs,change:t.onTextChangeACB,keypress:t.onKeyPressedACB}},[t._v(" > ")])]}}])},[t._v(" > ")])],1),a("v-col",{staticClass:"col-12 col-md-8"},[a("h3",{staticClass:"category-label"},[t._v("What adventure are you looking for?")]),a("v-combobox",{attrs:{value:t.selectedCategories,items:t.categories,multiple:"",chips:""},on:{change:t.onDropDownChangeACB},scopedSlots:t._u([{key:"selection",fn:function(e){var r=e.attrs,n=e.item,i=e.parent,s=e.selected,o=e.index;return[o<3?a("v-chip",t._b({attrs:{color:n.color+" lighten-3","input-value":s}},"v-chip",r,!1),[a("span",{staticClass:"pr-2"},[t._v(" "+t._s(n)+" ")]),a("v-icon",{attrs:{small:""},on:{click:function(t){return i.selectItem(n)}}},[t._v(" $delete ")])],1):t._e(),3===o?a("span",{staticClass:"grey--text"},[t._v(" (+"+t._s(t.selectedCategories.length-4)+" others) ")]):t._e()]}}])}),a("v-checkbox",{staticClass:"clear",attrs:{"input-value":t.allCategSet,label:"Clear/Select all categories",color:"blue-grey lighten-2"},on:{change:t.allCategChangedACB}})],1)],1),a("v-row",[a("v-col",{staticClass:"col-12"},[a("v-expansion-panels",[a("v-expansion-panel",[a("v-expansion-panel-header",[t._v(" Filter ")]),a("v-expansion-panel-content",[a("v-btn",{attrs:{icon:""},on:{click:t.clearFiltersACB}},[a("v-icon",[t._v("mdi-replay")])],1),t._l(this.rangeSliders,(function(e){return a("div",{key:e.name},[a("RangeSlider",{attrs:{range:e.range,values:e.sliderValues,name:e.sliderName,unit:e.unit},on:{changed:t.rangeSliderChangedACB}})],1)})),a("p",[t._v("Trail Difficulty")]),t._l(t.difficulties,(function(e){return a("div",{key:e.name},[a("v-checkbox",{attrs:{label:e.name,color:e.color,"input-value":e.selected},on:{change:function(a){return t.checkBoxChangedACB(a,e.name)}}})],1)})),a("div",[a("span",[t._v(t._s(t.radiusSlider.name)+" ")]),a("span",{staticClass:"text-caption"},[t._v("in "+t._s(t.radiusSlider.unit))]),a("span",{staticClass:"float-right"},[t._v(" "+t._s(t.radiusSlider.value+t.radiusSlider.unit)+" ")]),a("v-slider",{attrs:{max:t.radiusSlider.max,min:t.radiusSlider.min,value:t.radiusSlider.value},on:{input:t.radiusSliderChangedACB}})],1)],2)],1)],1)],1),a("v-col",{staticClass:"col-12"},[a("v-btn",{staticClass:"col-12",attrs:{id:"searchBtn",color:"amber"},on:{click:t.onSearchACB}},[t._v("Search!")])],1)],1)],1)},da=[],ha=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("span",[t._v(t._s(t.name)+" ")]),a("span",{staticClass:"text-caption"},[t._v("in "+t._s(t.unit))]),a("span",{staticClass:"float-right"},[t._v(" "+t._s(t.getValueText())+" ")]),a("v-range-slider",{attrs:{max:t.range[1],min:t.range[0],value:t.values},on:{input:t.changed}})],1)},ga=[],ma={props:{range:Array,values:Array,name:String,unit:String},methods:{changed(t){this.$emit("changed",t,this.name)},getValueText(){if(this.values.toString()==this.range.toString())return"any";if(this.values[0]==this.values[1])return this.values[0]==this.range[1]?this.range[1]-1+"+"+this.unit:this.values[0]+this.unit;var t=" from "+this.values[0]+this.unit+" to ";return this.values[1]>this.range[1]-1?t+=this.range[1]-1+"+":t+=this.values[1],t+=this.unit,t}}},va=ma,pa=a(4423),fa=(0,p.Z)(va,ha,ga,!1,null,null,null),Ca=fa.exports;C()(fa,{VRangeSlider:pa.Z});var Sa={components:{RangeSlider:Ca},props:{searchText:String,rangeSliders:Array,difficulties:Array,selectedCategories:Array,categories:Array,allCategSet:Boolean,radiusSlider:Object},emits:["searchTextChanged","search","categoriesChanged","rangeSliderChanged","difficultiesChanged","clearFilters","setAllCategories","placeChanged","radiusValueChanged"],methods:{onTextChangeACB:function(t){this.$emit("searchTextChanged",t)},onKeyPressedACB:function(t){13===t.keyCode&&(this.$emit("searchTextChanged",t.target.value),this.onSearchACB())},onSearchACB:function(){this.$emit("search")},onDropDownChangeACB:function(t){this.$emit("categoriesChanged",t)},rangeSliderChangedACB(t,e){this.$emit("rangeSliderChanged",t,e)},checkBoxChangedACB(t,e){this.$emit("difficultiesChanged",t,e)},clearFiltersACB(){this.$emit("clearFilters")},allCategChangedACB(t){this.$emit("setAllCategories",t)},getAddressDataACB(t){t.formatted_address&&(this.$emit("placeChanged",t),this.onTextChangeACB(t.formatted_address))},radiusSliderChangedACB(t){this.$emit("radiusValueChanged",t)}}},_a=Sa,xa=a(8393),wa=a(2102),ya=a(5655),ba=a(6845),Ta=a(2443),Ia=a(1192),Aa=a(5630),Ba=a(7611),ka=(0,p.Z)(_a,ua,da,!1,null,null,null),Va=ka.exports;C()(ka,{VBtn:_.Z,VCheckbox:xa.Z,VChip:De.Z,VCol:wa.Z,VCombobox:ya.Z,VExpansionPanel:ba.Z,VExpansionPanelContent:Ta.Z,VExpansionPanelHeader:Ia.Z,VExpansionPanels:Aa.Z,VIcon:I.Z,VRow:je.Z,VSlider:Ba.Z,VTextField:B.Z});var Za={components:{SearchFormView:Va,promiseNoData:Ie,TrailsOverviewPresenter:ra},data(){return{searchText:"",promiseState:{data:null,error:null,promise:null},categoryPromiseState:{data:null,error:null,promise:null},rangeSliders:[{sliderValues:[0,13],range:[0,13],sliderName:"Duration",unit:"h"},{sliderValues:[0,101],range:[0,101],sliderName:"Distance",unit:"km"},{sliderValues:[0,1501],range:[0,1501],sliderName:"Ascent",unit:"m"}],difficulties:[{name:"easy",color:"green",selected:!0},{name:"moderate",color:"yellow darken-2",selected:!0},{name:"difficult",color:"red darken-4",selected:!0}],selectedCategories:[],allCategSet:!0,place:{},radiusSlider:{name:"Search radius",unit:"km",min:5,max:100,value:50}}},mounted(){_e(Ce(),this.categoryPromiseState)},watch:{categories(){this.selectedCategories=this.categories}},computed:{detailsResults:function(){return this.promiseState&&this.promiseState.data&&this.promiseState.data.length>0?this.promiseState.data:[]},searchParams:function(){return{q:this.searchText,dif_e:this.difficulties[0].selected,dif_m:this.difficulties[1].selected,dif_d:this.difficulties[2].selected,asc_s:this.getSliderValue("Ascent",0),asc_e:this.getSliderValue("Ascent",1),tim_s:this.getSliderValue("Duration",0,60),tim_e:this.getSliderValue("Duration",1,60),len_s:this.getSliderValue("Distance",0,1e3),len_e:this.getSliderValue("Distance",1,1e3),radius:1e3*this.radiusSlider.value,location:this.getLocation()}},categoryIds:function(){return this.categoryNamesToIds(this.selectedCategories)},categories(){return this.categoryPromiseState.data?this.categoryPromiseState.data.map((t=>t.name)):[]}},methods:{search:function(){""!=this.searchText&&_e(this.searchPromise().then(this.getDetails),this.promiseState)},searchPromise:function(){const t=this;return e();function e(){const e=t.categoryIds.map((e=>me(t.searchParams,e)));return Promise.all(e).then((t=>a(t)));function a(t){return t.filter((t=>t)).flat(1)}}},getDetails(t){var e=t.map((t=>t.id));if(e&&e.length>0){var a=500,r=[];for(let t=0;t<e.length;t+=a)r.push(fe(e.slice(t,t+a)));return Promise.all(r).then((t=>n(t)))}function n(t){return t?t.flat(1):t}},searchTextChangedACB:function(t){this.searchText=t},categoriesChangedACB:function(t){this.selectedCategories=t},sliderChangedACB:function(t,e){var a=this.rangeSliders.find((t=>t.sliderName==e));a.sliderValues=t},difficultiesChangedACB(t,e){var a=this.difficulties.find((t=>t.name==e));a.selected=t},placeChangedACB(t){this.place=t},changeRadiusValueACB(t){this.radiusSlider.value=t},getLocation(){return this.searchText==this.place.formatted_address?this.place.geometry.location.lng()+","+this.place.geometry.location.lat():""},getSliderValue(t,e,a){a||(a=1);var r=this.rangeSliders.find((e=>e.sliderName==t));return 0==e?r.sliderValues[0]*a:r.sliderValues[1]==r.range[1]?"":r.sliderValues[1]*a},categoryNamesToIds(t){return this.categoryPromiseState.data.filter((e=>t.includes(e.name))).map((t=>t.id))},clearFiltersACB(){this.rangeSliders.forEach((t=>t.sliderValues=t.range)),this.difficulties.forEach((t=>t.selected=!0)),this.radiusSlider.value=50},setAllCategoriesACB(t){this.selectedCategories=t?this.categories:[]}}},Fa=Za,Ea=(0,p.Z)(Fa,la,ca,!1,null,null,null),Pa=Ea.exports;C()(Ea,{VDivider:b.Z});var $a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("TrailDetails",{attrs:{trailInfo:t.trailInfo,addedToFav:t.addedToFav},on:{addToFav:t.onAddToFav,goBack:t.onReturn,removeFromFav:t.onRemoveFromFav}}),a("SnackBar",{attrs:{showSnackbar:t.showSnackbar,text:t.snackbarText},on:{setSnackbarValue:t.setSnackbarValueACB}})],1)},La=[],Da=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"detail-container"},[a("v-btn",{staticClass:"ml-2 mb-10 back-button",attrs:{small:""},on:{click:t.backACB}},[t._v(" Go Back ")]),t.trailInfo?a("div",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-parallax",{attrs:{height:"300","max-width":"100%",src:t.trailInfo.primaryImage?"https://img.oastatic.com/img/"+t.trailInfo.primaryImage.id+"/.jpg":"https://picsum.photos/id/600/1000/300?grayscale","lazy-src":"https://picsum.photos/id/11/100/300?grayscale"}},[a("v-overlay",{attrs:{absolute:""}},[a("h1",{attrs:{align:"center",justify:"center"}},[t._v(t._s(t.trailInfo.title))])])],1)],1)],1),a("v-row",{staticClass:"ml-auto mr-auto col-10"},[a("v-col",{attrs:{cols:"6",md:"3"}},[a("v-card",{staticClass:"white"},[a("v-img",{staticStyle:{margin:"auto"},attrs:{"max-height":"60px","max-width":"60px",src:"https://www.iconpacks.net/icons/1/free-time-icon-968-thumb.png"}}),t.trailInfo.time?a("v-card-text",{staticClass:"text-center font-weight-medium"},[a("div",[t._v("Time: "+t._s(t.convertTime(t.trailInfo.time.min))+" h")])]):t._e()],1)],1),a("v-col",{attrs:{cols:"6",md:"3"}},[a("v-card",{staticClass:"white"},[a("v-img",{staticStyle:{margin:"auto"},attrs:{"max-height":"60px","max-width":"60px",src:"https://static.thenounproject.com/png/2325457-200.png"}}),t.trailInfo.length?a("v-card-text",{staticClass:"text-center font-weight-medium"},[a("div",[t._v("Length: "+t._s(t.convertDistance(t.trailInfo.length))+" km")])]):t._e()],1)],1),a("v-col",{attrs:{cols:"6",md:"3"}},[a("v-card",{staticClass:"white"},[a("v-img",{staticStyle:{margin:"auto"},attrs:{"max-height":"60px","max-width":"60px",src:"https://static.thenounproject.com/png/209086-200.png"}}),t.trailInfo.elevation?a("v-card-text",{staticClass:"text-center font-weight-medium"},[a("div",[t._v("Ascent: "+t._s(t.trailInfo.elevation.ascent)+" m")])]):t._e()],1)],1),a("v-col",{attrs:{cols:"6",md:"3"}},[a("v-card",{staticClass:"white"},[a("v-img",{staticStyle:{margin:"auto"},attrs:{"max-height":"60px","max-width":"60px",src:"https://static.thenounproject.com/png/209086-200.png"}}),t.trailInfo.elevation?a("v-card-text",{staticClass:"text-center font-weight-medium"},[a("div",[t._v("Descent: "+t._s(t.trailInfo.elevation.descent)+" m")])]):t._e()],1)],1)],1),a("v-row",{staticClass:"ml-auto mr-auto col-10",attrs:{wrap:""}},[a("v-col",{attrs:{cols:"12",md:"9"}},[a("v-card",[t.trailInfo.longText||t.trailInfo.shortText?a("v-card-text",[a("h2",[t._v("The Route Details")]),a("br"),t.trailInfo.longText?a("div",[t._v(" "+t._s(t.removeHTML(t.trailInfo.longText))+" ")]):t._e(),t.trailInfo.shortText?a("div",[t._v(" "+t._s(t.removeHTML(t.trailInfo.shortText))+" ")]):t._e()]):a("v-card-text",[a("div",[t._v("No description available")])])],1)],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-card",[t.trailInfo.rating?a("v-card-text",[a("h3",[t._v("Additional Details")]),a("br"),a("div",{staticClass:"mb-3"},[t._v(" Highest point: "+t._s(t.trailInfo.elevation.maxAltitude)+" m ")]),a("div",{staticClass:"mt-3 mb-3"},[t._v(" Lowest point: "+t._s(t.trailInfo.elevation.minAltitude)+" m ")]),a("div",{staticClass:"mt-3 mb-3"},[t._v(" Difficulty: "),a("v-chip",{attrs:{color:1==t.trailInfo.rating.difficulty?"green":2==t.trailInfo.rating.difficulty?"yellow darken-2":3==t.trailInfo.rating.difficulty?"red":"grey darken-1",dark:"",small:""}},[t._v(" "+t._s(t.getDifficulty(t.trailInfo.rating.difficulty))+" ")])],1),a("div",{staticClass:"mt-3"},[t._v(" Quality of experience: "),a("v-rating",{attrs:{value:t.trailInfo.rating.qualityOfExperience,"background-color":"blue-grey lighten-2",color:"amber",dense:"","half-increments":"",readonly:"",small:""}})],1),a("br"),t.addedToFav?a("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:"pink"},on:{click:function(e){return t.removeFromFavACB()}}},[a("v-icon",{attrs:{dark:""}},[t._v("mdi-heart")])],1):a("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:"grey"},on:{click:function(e){return t.addToFavACB()}}},[a("v-icon",{attrs:{dark:""}},[t._v("mdi-heart")])],1),t.addedToFav?a("v-label",[t._v(" Remove from favourites ")]):a("v-label",[t._v(" Add to favourites ")])],1):t._e()],1)],1)],1),a("v-row",{staticClass:"ml-auto mr-auto col-10",attrs:{wrap:""}},[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-card",[t.trailInfo.images?a("v-carousel",{attrs:{height:"auto"}},t._l(t.trailInfo.images.image,(function(e,r){return a("v-carousel-item",{key:r,attrs:{"reverse-transition":"fade-transition",transition:"fade-transition"}},[a("v-img",{attrs:{src:"https://img.oastatic.com/img/"+e.id+"/.jpg","lazy-src":"https://picsum.photos/id/11/100/60"},scopedSlots:t._u([{key:"placeholder",fn:function(){return[a("v-row",{staticClass:"fill-height ma-0",attrs:{align:"center",justify:"center"}},[a("v-progress-circular",{attrs:{indeterminate:"",color:"grey lighten-5"}})],1)]},proxy:!0}],null,!0)})],1)})),1):t._e()],1)],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-card",[a("VueWeather")],1)],1)],1)],1):t._e()],1)},Ua=[],Oa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.currentTourHasStartingPoint?a("div",[a("vue-weather",{attrs:{"api-key":"7c2818a738ef6f68536c2bd139eaa7b0",units:"uk",latitude:t.lat,longitude:t.lon}})],1):t._e()},Ra=[],ja=a(7733),Na={components:{VueWeather:ja.Z},computed:{currentTourHasStartingPoint(){return this.$store.getters.getCurrentTour&&this.$store.getters.getCurrentTour.startingPoint},lat(){return this.$store.getters.getCurrentTour.startingPoint.lat.toString()},lon(){return this.$store.getters.getCurrentTour.startingPoint.lon.toString()}}},Ma=Na,Ha=(0,p.Z)(Ma,Oa,Ra,!1,null,null,null),Wa=Ha.exports,Ga={components:{VueWeather:Wa},props:{trail:Array,trailInfo:Object,addedToFav:Boolean},methods:{convertDistance:ie,convertTime:se,getDifficulty:le,backACB:function(){this.$emit("goBack")},addToFavACB:function(){this.$emit("addToFav",this.trailInfo.id)},removeFromFavACB:function(){this.$emit("removeFromFav",this.trailInfo.id)},removeHTML:function(t){var e=document.createElement("DIV");return e.innerHTML=t,e.textContent||e.innerText||""}}},qa=Ga,za=a(7426),Ka=a(4062),Qa=a(8501),Xa=a(1058),Ya=a(2622),Ja=(0,p.Z)(qa,Da,Ua,!1,null,null,null),tr=Ja.exports;C()(Ja,{VBtn:_.Z,VCard:x.Z,VCardText:w.ZB,VCarousel:za.Z,VCarouselItem:Ka.Z,VChip:De.Z,VCol:wa.Z,VIcon:I.Z,VImg:Ue.Z,VLabel:Qa.Z,VOverlay:Xa.Z,VParallax:Ya.Z,VProgressCircular:Oe.Z,VRating:Re.Z,VRow:je.Z});var er={components:{TrailDetails:tr,SnackBar:Et},data(){return{showSnackbar:!1,snackbarText:""}},computed:{trailInfo(){return this.$store.getters.getCurrentTour},addedToFav:function(){return ue(this.$store,this.trailInfo.id)}},methods:{...(0,R.nv)(["addToFav","removeFromFav"]),onAddToFav:function(t){this.$store.getters.getLoggedIn?(this.addToFav(t),this.setSnackbarSettings(!0,"Trail added to favourites")):(this.setSnackbarSettings(!0,"Please log in to add trails to your favourites!"),this.$store.dispatch("setShowLogInPopUp",!0))},onReturn:function(){this.$router.go(-1)},onRemoveFromFav:function(t){this.removeFromFav(t),this.setSnackbarSettings(!0,"Trail removed from favourites")},setSnackbarValueACB:function(t){this.showSnackbar=t},setSnackbarSettings(t,e){this.showSnackbar=t,this.snackbarText=e}}},ar=er,rr=(0,p.Z)(ar,$a,La,!1,null,null,null),nr=rr.exports,ir=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("promiseNoData",{attrs:{promiseState:t.promiseState,noDataString:"There are no favourite trails available",actionNotStartedString:"Whoops, looks like you havenâ€™t gotten around to exploring yet! Go and search for your next adventure and save your favourite trails!"}},[a("trails-overview-presenter",{attrs:{headline:"your favourite trails",teaser:"We save all your favourite tours here so that you can experience them later.",details:t.promiseState.data,pagination:!1,sort:!0}})],1)],1)},sr=[],or={components:{TrailsOverviewPresenter:ra,promiseNoData:Ie},data(){return{promiseState:{data:null,error:null,promise:null}}},mounted(){this.loadFavourites()},watch:{favouriteTrails(){this.loadFavourites()}},computed:{favouriteTrails:function(){return this.$store.getters.getFavourites}},methods:{loadFavourites(){this.favouriteTrails.length>0?_e(fe(this.favouriteTrails),this.promiseState):(this.promiseState.data=null,this.promiseState.error=null,this.promiseState.promise=null)}}},lr=or,cr=(0,p.Z)(lr,ir,sr,!1,null,null,null),ur=cr.exports,dr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("NotFoundView",{on:{toExplore:t.route2ExploreACB}})},hr=[],gr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"not-found"},[a("h2",[t._v("Ooopps!")]),a("p",[t._v("Looks like you are lost!")]),a("v-btn",{on:{click:t.goToExplore}},[t._v("Go back to Landing Page")])],1)},mr=[],vr={name:"NotFound",emits:["toExplore"],methods:{goToExplore:function(){this.$emit("toExplore")}}},pr=vr,fr=(0,p.Z)(pr,gr,mr,!1,null,null,null),Cr=fr.exports;C()(fr,{VBtn:_.Z});var Sr={components:{NotFoundView:Cr},methods:{route2ExploreACB:function(){this.$router.push("/Explore")}}},_r=Sr,xr=(0,p.Z)(_r,dr,hr,!1,null,null,null),wr=xr.exports;const yr=Qt.Z.prototype.replace;Qt.Z.prototype.replace=function(t){return yr.call(this,t).catch((t=>t))},r["default"].use(Qt.Z);var br,Tr=new Qt.Z({mode:"hash",base:"/Traili/",routes:[{path:"/Explore",name:"explore",component:oa},{path:"/Search",name:"search",component:Pa},{path:"/TrailDetails",name:"details",component:nr},{path:"/Favourites",name:"favourites",component:ur},{path:"*",name:"pageNotFound",component:wr}],scrollBehavior(){return{x:0,y:0}}}),Ir=a(9301);r["default"].use(Ir,{load:{key:ge,libraries:"places"},installComponents:!0}),r["default"].config.productionTip=!1,r["default"].use(Qt.Z),new r["default"]({store:Wt,vuetify:Kt,router:Tr,render:t=>t(Ht),mounted(){const t=(0,P.v0)();(0,P.Aj)(t,(t=>{t?this.$store.dispatch("initData",t):br&&this.$store.dispatch("clearData")})),br=Wt.subscribe((t=>{"setUID"===t.type&&L(Wt),"addToFav"!==t.type&&"removeFromFav"!==t.type||$(Wt)})),this.$router.push("/Explore").catch((()=>{}))},beforeDestroyed(){br()}}).$mount("#app")},9574:function(t,e,a){t.exports=a.p+"img/logo.cff01dd0.svg"},9473:function(t,e,a){t.exports=a.p+"img/hikingGif1.1.9c470463.gif"}},e={};function a(r){var n=e[r];if(void 0!==n)return n.exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,a),i.exports}a.m=t,function(){var t=[];a.O=function(e,r,n,i){if(!r){var s=1/0;for(u=0;u<t.length;u++){r=t[u][0],n=t[u][1],i=t[u][2];for(var o=!0,l=0;l<r.length;l++)(!1&i||s>=i)&&Object.keys(a.O).every((function(t){return a.O[t](r[l])}))?r.splice(l--,1):(o=!1,i<s&&(s=i));if(o){t.splice(u--,1);var c=n();void 0!==c&&(e=c)}}return e}i=i||0;for(var u=t.length;u>0&&t[u-1][2]>i;u--)t[u]=t[u-1];t[u]=[r,n,i]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var r in e)a.o(e,r)&&!a.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){a.p="/Traili/"}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,r){var n,i,s=r[0],o=r[1],l=r[2],c=0;if(s.some((function(e){return 0!==t[e]}))){for(n in o)a.o(o,n)&&(a.m[n]=o[n]);if(l)var u=l(a)}for(e&&e(r);c<s.length;c++)i=s[c],a.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return a.O(u)},r=self["webpackChunktraili"]=self["webpackChunktraili"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=a.O(void 0,[998],(function(){return a(1993)}));r=a.O(r)})();
//# sourceMappingURL=app.209a89a9.js.map